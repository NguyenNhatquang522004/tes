"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[1092],{8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>d});var i=r(6540);const t={},s=i.createContext(t);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},8506:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"installation/environment-config","title":"environment-config","description":"\x3c!--","source":"@site/docs/installation/environment-config.md","sourceDirName":"installation","slug":"/installation/environment-config","permalink":"/tes/docs/installation/environment-config","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/installation/environment-config.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"local-setup","permalink":"/tes/docs/installation/local-setup"},"next":{"title":"overview","permalink":"/tes/docs/architecture/overview"}}');var t=r(4848),s=r(8453);const l={sidebar_position:4},d="Environment Configuration",c={},o=[{value:"\ud83d\udccb Overview",id:"-overview",level:2},{value:"\ud83d\udd27 Configuration Files",id:"-configuration-files",level:2},{value:"Backend (.env)",id:"backend-env",level:3},{value:"Frontend (.env)",id:"frontend-env",level:3},{value:"\ud83d\udd10 Sensitive Configuration",id:"-sensitive-configuration",level:2},{value:"Production Secrets",id:"production-secrets",level:3},{value:"Example: Docker Secrets",id:"example-docker-secrets",level:3},{value:"\ud83d\udcca Configuration Reference",id:"-configuration-reference",level:2},{value:"Application Settings",id:"application-settings",level:3},{value:"Database Settings",id:"database-settings",level:3},{value:"Context Broker Settings",id:"context-broker-settings",level:3},{value:"Feature Flags",id:"feature-flags",level:3},{value:"\ud83c\udf0d Environment-Specific Configs",id:"-environment-specific-configs",level:2},{value:"Development",id:"development",level:3},{value:"Staging",id:"staging",level:3},{value:"Production",id:"production",level:3},{value:"\u2705 Validation",id:"-validation",level:2},{value:"Check Configuration",id:"check-configuration",level:3},{value:"Required Variables",id:"required-variables",level:3},{value:"\ud83d\udcd6 Next Steps",id:"-next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"environment-configuration",children:"Environment Configuration"})}),"\n",(0,t.jsx)(n.p,{children:"Complete guide for configuring UIP - Urban Intelligence Platform environment variables and settings."}),"\n",(0,t.jsx)(n.h2,{id:"-overview",children:"\ud83d\udccb Overview"}),"\n",(0,t.jsxs)(n.p,{children:["UIP uses environment variables for configuration, following the ",(0,t.jsx)(n.a,{href:"https://12factor.net/",children:"12-factor app"})," methodology. This allows for:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Environment-specific configurations (dev, staging, production)"}),"\n",(0,t.jsx)(n.li,{children:"Secure handling of sensitive credentials"}),"\n",(0,t.jsx)(n.li,{children:"Easy containerization and deployment"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-configuration-files",children:"\ud83d\udd27 Configuration Files"}),"\n",(0,t.jsx)(n.h3,{id:"backend-env",children:"Backend (.env)"}),"\n",(0,t.jsxs)(n.p,{children:["Create ",(0,t.jsx)(n.code,{children:".env"})," in the project root:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# =============================================================================\r\n# UIP - Urban Intelligence Platform Configuration\r\n# =============================================================================\r\n\r\n# -----------------------------------------------------------------------------\r\n# Application Settings\r\n# -----------------------------------------------------------------------------\r\nAPP_ENV=development\r\nDEBUG=true\r\nLOG_LEVEL=DEBUG\r\n\r\n# API Server\r\nAPI_HOST=0.0.0.0\r\nAPI_PORT=8001\r\n\r\n# -----------------------------------------------------------------------------\r\n# Database Configuration\r\n# -----------------------------------------------------------------------------\r\n\r\n# MongoDB\r\nMONGO_URI=mongodb://localhost:27017/hcmc_traffic\r\nMONGO_DB_NAME=hcmc_traffic\r\n\r\n# Neo4j\r\nNEO4J_URI=bolt://localhost:7687\r\nNEO4J_USER=neo4j\r\nNEO4J_PASSWORD=your_password\r\n\r\n# Redis\r\nREDIS_URL=redis://localhost:6379\r\nREDIS_PASSWORD=\r\n\r\n# -----------------------------------------------------------------------------\r\n# Context Brokers\r\n# -----------------------------------------------------------------------------\r\n\r\n# Stellio (NGSI-LD Context Broker)\r\nSTELLIO_URL=http://localhost:8080\r\nSTELLIO_TENANT=urn:ngsi-ld:tenant:default\r\n\r\n# Apache Jena Fuseki\r\nFUSEKI_URL=http://localhost:3030\r\nFUSEKI_DATASET=traffic\r\n\r\n# -----------------------------------------------------------------------------\r\n# External APIs\r\n# -----------------------------------------------------------------------------\r\n\r\n# Weather API (OpenWeatherMap)\r\nWEATHER_API_KEY=your_api_key\r\nWEATHER_API_URL=https://api.openweathermap.org/data/2.5\r\n\r\n# Air Quality API\r\nAIR_QUALITY_API_KEY=your_api_key\r\nAIR_QUALITY_API_URL=https://api.iqair.com/v2\r\n\r\n# Traffic Camera API\r\nCAMERA_API_URL=https://api.hcmgov.vn/cameras\r\nCAMERA_API_KEY=your_api_key\r\n\r\n# -----------------------------------------------------------------------------\r\n# Feature Flags\r\n# -----------------------------------------------------------------------------\r\nENABLE_WEBSOCKET=true\r\nENABLE_CACHING=true\r\nENABLE_METRICS=true\r\nENABLE_TRACING=false\r\n\r\n# -----------------------------------------------------------------------------\r\n# Cache Settings\r\n# -----------------------------------------------------------------------------\r\nCACHE_TTL_SECONDS=300\r\nCACHE_MAX_SIZE=1000\r\n\r\n# -----------------------------------------------------------------------------\r\n# Rate Limiting\r\n# -----------------------------------------------------------------------------\r\nRATE_LIMIT_PER_MINUTE=100\r\nRATE_LIMIT_BURST=20\n"})}),"\n",(0,t.jsx)(n.h3,{id:"frontend-env",children:"Frontend (.env)"}),"\n",(0,t.jsxs)(n.p,{children:["Create ",(0,t.jsx)(n.code,{children:".env"})," in ",(0,t.jsx)(n.code,{children:"apps/traffic-web-app/frontend/"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# =============================================================================\r\n# UIP Frontend Configuration\r\n# =============================================================================\r\n\r\n# API Configuration\r\nVITE_API_URL=http://localhost:8001\r\nVITE_WS_URL=ws://localhost:8001/ws\r\n\r\n# Map Configuration\r\nVITE_MAP_TILE_URL=https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\r\nVITE_MAP_DEFAULT_CENTER=10.762622,106.660172\r\nVITE_MAP_DEFAULT_ZOOM=12\r\n\r\n# Feature Flags\r\nVITE_ENABLE_DARK_MODE=true\r\nVITE_ENABLE_NOTIFICATIONS=true\r\nVITE_ENABLE_ANALYTICS=false\r\n\r\n# Refresh Intervals (ms)\r\nVITE_CAMERA_REFRESH_INTERVAL=30000\r\nVITE_TRAFFIC_REFRESH_INTERVAL=60000\r\nVITE_ACCIDENT_REFRESH_INTERVAL=10000\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-sensitive-configuration",children:"\ud83d\udd10 Sensitive Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"production-secrets",children:"Production Secrets"}),"\n",(0,t.jsx)(n.p,{children:"Never commit secrets to version control. Use:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Environment variables"})," in deployment platform"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Docker secrets"})," for container deployments"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AWS Secrets Manager / Azure Key Vault"})," for cloud deployments"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-docker-secrets",children:"Example: Docker Secrets"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# docker-compose.prod.yml\r\nversion: '3.8'\r\n\r\nservices:\r\n  backend:\r\n    secrets:\r\n      - neo4j_password\r\n      - mongo_uri\r\n    environment:\r\n      - NEO4J_PASSWORD_FILE=/run/secrets/neo4j_password\r\n\r\nsecrets:\r\n  neo4j_password:\r\n    external: true\r\n  mongo_uri:\r\n    external: true\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-configuration-reference",children:"\ud83d\udcca Configuration Reference"}),"\n",(0,t.jsx)(n.h3,{id:"application-settings",children:"Application Settings"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"APP_ENV"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"development"}),(0,t.jsx)(n.td,{children:"Environment: development, staging, production"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"DEBUG"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"false"}),(0,t.jsx)(n.td,{children:"Enable debug mode"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LOG_LEVEL"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"INFO"}),(0,t.jsx)(n.td,{children:"Logging level: DEBUG, INFO, WARNING, ERROR"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"API_HOST"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"0.0.0.0"}),(0,t.jsx)(n.td,{children:"API server host"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"API_PORT"})}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"8001"}),(0,t.jsx)(n.td,{children:"API server port"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"database-settings",children:"Database Settings"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"MONGO_URI"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"MongoDB connection string"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"NEO4J_URI"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Neo4j bolt URI"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"NEO4J_USER"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Neo4j username"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"NEO4J_PASSWORD"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Neo4j password"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"REDIS_URL"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Redis connection URL"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"context-broker-settings",children:"Context Broker Settings"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"STELLIO_URL"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Stellio context broker URL"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"STELLIO_TENANT"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Stellio tenant identifier"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"FUSEKI_URL"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Apache Jena Fuseki URL"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"FUSEKI_DATASET"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Fuseki dataset name"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"feature-flags",children:"Feature Flags"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ENABLE_WEBSOCKET"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"true"}),(0,t.jsx)(n.td,{children:"Enable WebSocket connections"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ENABLE_CACHING"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"true"}),(0,t.jsx)(n.td,{children:"Enable Redis caching"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ENABLE_METRICS"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"true"}),(0,t.jsx)(n.td,{children:"Enable Prometheus metrics"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ENABLE_TRACING"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"false"}),(0,t.jsx)(n.td,{children:"Enable distributed tracing"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"-environment-specific-configs",children:"\ud83c\udf0d Environment-Specific Configs"}),"\n",(0,t.jsx)(n.h3,{id:"development",children:"Development"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"APP_ENV=development\r\nDEBUG=true\r\nLOG_LEVEL=DEBUG\r\nENABLE_TRACING=false\n"})}),"\n",(0,t.jsx)(n.h3,{id:"staging",children:"Staging"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"APP_ENV=staging\r\nDEBUG=false\r\nLOG_LEVEL=INFO\r\nENABLE_TRACING=true\n"})}),"\n",(0,t.jsx)(n.h3,{id:"production",children:"Production"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"APP_ENV=production\r\nDEBUG=false\r\nLOG_LEVEL=WARNING\r\nENABLE_TRACING=true\r\nENABLE_METRICS=true\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-validation",children:"\u2705 Validation"}),"\n",(0,t.jsx)(n.h3,{id:"check-configuration",children:"Check Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Backend configuration check\r\npython -c "from src.config import settings; print(settings)"\r\n\r\n# Frontend configuration check (build time)\r\nnpm run build\n'})}),"\n",(0,t.jsx)(n.h3,{id:"required-variables",children:"Required Variables"}),"\n",(0,t.jsx)(n.p,{children:"The application will fail to start if these are not set:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"MONGO_URI"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"NEO4J_URI"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"NEO4J_USER"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"NEO4J_PASSWORD"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"REDIS_URL"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"STELLIO_URL"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"FUSEKI_URL"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-next-steps",children:"\ud83d\udcd6 Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"docker-setup",children:"Docker Setup"})," - Container deployment"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"local-setup",children:"Local Setup"})," - Development environment"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"../guides/deployment",children:"Deployment Guide"})," - Production deployment"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["For security best practices, see our ",(0,t.jsx)(n.a,{href:"../architecture/security",children:"Security Documentation"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);