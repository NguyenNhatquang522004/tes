"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[4037],{2023:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"agents/notification/email-notification-handler","title":"email-notification-handler","description":"\x3c!--","source":"@site/docs/agents/notification/email-notification-handler.md","sourceDirName":"agents/notification","slug":"/agents/notification/email-notification-handler","permalink":"/tes/docs/agents/notification/email-notification-handler","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/notification/email-notification-handler.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"alert-dispatcher","permalink":"/tes/docs/agents/notification/alert-dispatcher"},"next":{"title":"incident-report-generator","permalink":"/tes/docs/agents/notification/incident-report-generator"}}');var i=t(4848),a=t(8453);const s={sidebar_position:2},l="Email Notification Handler Agent",d={},c=[{value:"\ud83d\udccb Overview",id:"-overview",level:2},{value:"\ud83c\udfaf Purpose",id:"-purpose",level:2},{value:"\ud83d\ude80 Usage",id:"-usage",level:2},{value:"Send Alert Email",id:"send-alert-email",level:3},{value:"Send Report",id:"send-report",level:3},{value:"Bulk Send",id:"bulk-send",level:3},{value:"\u2699\ufe0f Configuration",id:"\ufe0f-configuration",level:2},{value:"\ud83d\udce7 Email Templates",id:"-email-templates",level:2},{value:"\ud83d\udcd6 Related Documentation",id:"-related-documentation",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"email-notification-handler-agent",children:"Email Notification Handler Agent"})}),"\n",(0,i.jsx)(n.p,{children:"The Email Notification Handler Agent sends email notifications for alerts and reports."}),"\n",(0,i.jsx)(n.h2,{id:"-overview",children:"\ud83d\udccb Overview"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Module"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"src.agents.notification.email_notification_handler_agent"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Class"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"EmailNotificationHandlerAgent"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Author"})}),(0,i.jsx)(n.td,{children:"UIP Team"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Version"})}),(0,i.jsx)(n.td,{children:"1.0.0"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"-purpose",children:"\ud83c\udfaf Purpose"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Send email alerts"})," for traffic incidents"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Deliver scheduled reports"})," to subscribers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Template-based emails"})," for consistency"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Track delivery status"})," and retries"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-usage",children:"\ud83d\ude80 Usage"}),"\n",(0,i.jsx)(n.h3,{id:"send-alert-email",children:"Send Alert Email"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from src.agents.notification.email_notification_handler_agent import EmailNotificationHandlerAgent\r\n\r\nhandler = EmailNotificationHandlerAgent()\r\n\r\n# Send alert email\r\nawait handler.send_alert(\r\n    recipients=["admin@city.gov", "traffic@city.gov"],\r\n    alert_type="accident",\r\n    data={\r\n        "location": "Nguyen Hue Street",\r\n        "severity": "high",\r\n        "description": "Two-vehicle collision"\r\n    }\r\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"send-report",children:"Send Report"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Send daily report\r\nawait handler.send_report(\r\n    recipients=["management@city.gov"],\r\n    report_type="daily_summary",\r\n    date="2025-01-15",\r\n    attachments=["report.pdf"]\r\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"bulk-send",children:"Bulk Send"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Send to subscriber list\r\nawait handler.bulk_send(\r\n    template="congestion_alert",\r\n    subscriber_list="traffic_updates",\r\n    data={\r\n        "affected_areas": ["District 1", "District 3"],\r\n        "estimated_delay": "30 minutes"\r\n    }\r\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-configuration",children:"\u2699\ufe0f Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# config/notification_config.yaml\r\nemail_handler:\r\n  enabled: true\r\n  \r\n  # SMTP settings\r\n  smtp:\r\n    host: "smtp.gmail.com"\r\n    port: 587\r\n    username: "${SMTP_USER}"\r\n    password: "${SMTP_PASSWORD}"\r\n    use_tls: true\r\n  \r\n  # Sender info\r\n  sender:\r\n    name: "UIP Traffic Alerts"\r\n    email: "alerts@uip-platform.com"\r\n  \r\n  # Templates\r\n  templates:\r\n    path: "templates/email"\r\n    default: "base.html"\r\n  \r\n  # Retry settings\r\n  retry:\r\n    max_attempts: 3\r\n    delay_seconds: 60\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-email-templates",children:"\ud83d\udce7 Email Templates"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Template"}),(0,i.jsx)(n.th,{children:"Purpose"}),(0,i.jsx)(n.th,{children:"Variables"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"accident_alert"})}),(0,i.jsx)(n.td,{children:"Accident notification"}),(0,i.jsx)(n.td,{children:"location, severity, time"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"congestion_alert"})}),(0,i.jsx)(n.td,{children:"Traffic jam alert"}),(0,i.jsx)(n.td,{children:"areas, delay, alternatives"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"daily_summary"})}),(0,i.jsx)(n.td,{children:"Daily report"}),(0,i.jsx)(n.td,{children:"stats, incidents, trends"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"weekly_report"})}),(0,i.jsx)(n.td,{children:"Weekly analytics"}),(0,i.jsx)(n.td,{children:"charts, comparisons"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"-related-documentation",children:"\ud83d\udcd6 Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"alert-dispatcher",children:"Alert Dispatcher"})," - Alert generation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"subscription-manager",children:"Subscription Manager"})," - Subscriber management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"webhook-notification-handler",children:"Webhook Handler"})," - Alternative delivery"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"../complete-agents-reference",children:"complete agents reference"})," for all available agents."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var r=t(6540);const i={},a=r.createContext(i);function s(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);