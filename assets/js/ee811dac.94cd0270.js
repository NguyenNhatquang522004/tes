"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[1635],{7695:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"agents/transformation/sosa-ssn-mapper","title":"sosa-ssn-mapper","description":"\x3c!--","source":"@site/docs/agents/transformation/sosa-ssn-mapper.md","sourceDirName":"agents/transformation","slug":"/agents/transformation/sosa-ssn-mapper","permalink":"/tes/docs/agents/transformation/sosa-ssn-mapper","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/transformation/sosa-ssn-mapper.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ngsi-ld-transformer","permalink":"/tes/docs/agents/transformation/ngsi-ld-transformer"},"next":{"title":"triplestore-loader","permalink":"/tes/docs/agents/rdf-linked-data/triplestore-loader"}}');var r=s(4848),a=s(8453);const i={},o="SOSA/SSN Mapper Agent",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Observation Mapping",id:"basic-observation-mapping",level:3},{value:"Sensor Description",id:"sensor-description",level:3},{value:"Platform Modeling",id:"platform-modeling",level:3},{value:"Observation Collection",id:"observation-collection",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Class: <code>SOSASSNMapperAgent</code>",id:"class-sosassnmapperagent",level:3},{value:"Methods",id:"methods",level:4},{value:"<code>map_to_sosa_observation(data: dict) -&gt; SOSAObservation</code>",id:"map_to_sosa_observationdata-dict---sosaobservation",level:5},{value:"<code>create_sensor_description(sensor_id: str, sensor_type: str, location: dict, observes: List[str], **kwargs) -&gt; SOSASensor</code>",id:"create_sensor_descriptionsensor_id-str-sensor_type-str-location-dict-observes-liststr-kwargs---sosasensor",level:5},{value:"<code>create_platform(platform_id: str, name: str, location: dict, hosts_sensors: List[str], **kwargs) -&gt; SOSAPlatform</code>",id:"create_platformplatform_id-str-name-str-location-dict-hosts_sensors-liststr-kwargs---sosaplatform",level:5},{value:"<code>create_observation_collection(sensor_id: str, observations: List[dict], property: str) -&gt; SOSAObservationCollection</code>",id:"create_observation_collectionsensor_id-str-observations-listdict-property-str---sosaobservationcollection",level:5},{value:"<code>serialize(entity: Any, format: str = &quot;turtle&quot;) -&gt; str</code>",id:"serializeentity-any-format-str--turtle---str",level:5},{value:"Data Models",id:"data-models",level:3},{value:"<code>SOSAObservation</code>",id:"sosaobservation",level:4},{value:"<code>SOSASensor</code>",id:"sosasensor",level:4},{value:"<code>SOSAPlatform</code>",id:"sosaplatform",level:4},{value:"SOSA Core Concepts",id:"sosa-core-concepts",level:2},{value:"1. Observation",id:"1-observation",level:3},{value:"2. Sensor",id:"2-sensor",level:3},{value:"3. Observable Property",id:"3-observable-property",level:3},{value:"4. Feature of Interest",id:"4-feature-of-interest",level:3},{value:"5. Platform",id:"5-platform",level:3},{value:"SSN Extensions",id:"ssn-extensions",level:2},{value:"System Capabilities",id:"system-capabilities",level:3},{value:"Operating Range",id:"operating-range",level:3},{value:"Integration Examples",id:"integration-examples",level:2},{value:"Integration with NGSI-LD Transformer",id:"integration-with-ngsi-ld-transformer",level:3},{value:"Integration with Triplestore Loader",id:"integration-with-triplestore-loader",level:3},{value:"Integration with LOD Enrichment",id:"integration-with-lod-enrichment",level:3},{value:"SPARQL Query Examples",id:"sparql-query-examples",level:2},{value:"Query All Observations",id:"query-all-observations",level:3},{value:"Query Sensor Capabilities",id:"query-sensor-capabilities",level:3},{value:"Monitoring &amp; Metrics",id:"monitoring--metrics",level:2},{value:"Health Check",id:"health-check",level:3},{value:"Mapping Statistics",id:"mapping-statistics",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Batch Mapping",id:"batch-mapping",level:3},{value:"Namespace Caching",id:"namespace-caching",level:3},{value:"Template-Based Generation",id:"template-based-generation",level:3},{value:"Testing",id:"testing",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Standard Vocabularies",id:"1-use-standard-vocabularies",level:3},{value:"2. Link to Features of Interest",id:"2-link-to-features-of-interest",level:3},{value:"3. Document Sensor Capabilities",id:"3-document-sensor-capabilities",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Issue: Invalid RDF Output",id:"issue-invalid-rdf-output",level:3},{value:"Issue: Slow Serialization",id:"issue-slow-serialization",level:3},{value:"Issue: Namespace Conflicts",id:"issue-namespace-conflicts",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"License",id:"license",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"sosassn-mapper-agent",children:"SOSA/SSN Mapper Agent"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The SOSA/SSN Mapper Agent transforms sensor observations and traffic data into W3C SOSA (Sensor, Observation, Sample, and Actuator) and SSN (Semantic Sensor Network) ontology format, enabling rich semantic descriptions and sensor network interoperability."}),"\n",(0,r.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"W3C Standards Compliance"}),": Full SOSA/SSN ontology adherence"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sensor Modeling"}),": Comprehensive sensor and platform descriptions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Observation Mapping"}),": Transform measurements to SOSA observations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Procedure Definition"}),": Document sensing procedures and methodologies"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Feature of Interest"}),": Link observations to real-world entities"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RDF Serialization"}),": Output in Turtle, JSON-LD, RDF/XML formats"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph TB\n    A[Sensor Data] --\x3e B[SOSA Mapper]\n    B --\x3e C[Sensor Builder]\n    B --\x3e D[Observation Builder]\n    B --\x3e E[Platform Builder]\n    C --\x3e F[Ontology Validator]\n    D --\x3e F\n    E --\x3e F\n    F --\x3e G{Format}\n    G --\x3e|Turtle| H[TTL Serializer]\n    G --\x3e|JSON-LD| I[JSON-LD Serializer]\n    G --\x3e|RDF/XML| J[RDF/XML Serializer]\n    H --\x3e K[Triple Store]\n    I --\x3e K\n    J --\x3e K\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File"}),": ",(0,r.jsx)(n.code,{children:"config/sosa_mappings.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'sosa_ssn:\n  namespaces:\n    sosa: "http://www.w3.org/ns/sosa/"\n    ssn: "http://www.w3.org/ns/ssn/"\n    geo: "http://www.w3.org/2003/01/geo/wgs84_pos#"\n    qudt: "http://qudt.org/schema/qudt/"\n    time: "http://www.w3.org/2006/time#"\n    ex: "http://hcmc-traffic.example.org/"\n    \n  sensor_types:\n    camera:\n      class: "ssn:Sensor"\n      observes:\n        - "ex:VehicleCount"\n        - "ex:VehicleSpeed"\n        - "ex:TrafficFlow"\n      platform: "ex:TrafficCameraStation"\n      \n    weather_station:\n      class: "ssn:Sensor"\n      observes:\n        - "ex:Temperature"\n        - "ex:Humidity"\n        - "ex:Precipitation"\n      platform: "ex:WeatherStation"\n      \n    air_quality_sensor:\n      class: "ssn:Sensor"\n      observes:\n        - "ex:PM25"\n        - "ex:PM10"\n        - "ex:AQI"\n      platform: "ex:AirQualityStation"\n      \n  observable_properties:\n    vehicle_count:\n      uri: "ex:VehicleCount"\n      unit: "http://qudt.org/vocab/unit/NUM"\n      description: "Number of vehicles detected"\n      \n    vehicle_speed:\n      uri: "ex:VehicleSpeed"\n      unit: "http://qudt.org/vocab/unit/KiloM-PER-HR"\n      description: "Average vehicle speed"\n      \n    temperature:\n      uri: "ex:Temperature"\n      unit: "http://qudt.org/vocab/unit/DEG_C"\n      description: "Ambient temperature"\n      \n  platforms:\n    camera_station:\n      type: "sosa:Platform"\n      deployment_location: "geo:Point"\n      hosts_sensors: ["Camera", "SpeedSensor"]\n'})}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.h3,{id:"basic-observation-mapping",children:"Basic Observation Mapping"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from src.agents.transformation.sosa_ssn_mapper_agent import SOSASSNMapperAgent\n\n# Initialize agent\nagent = SOSASSNMapperAgent()\n\n# Transform sensor observation\nobservation_data = {\n    "sensor_id": "CAM_001",\n    "timestamp": "2024-01-15T10:30:00Z",\n    "property": "vehicle_count",\n    "value": 45,\n    "location": {"lat": 10.7769, "lon": 106.7009}\n}\n\nsosa_observation = agent.map_to_sosa_observation(observation_data)\nprint(sosa_observation.serialize(format="turtle"))\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Output (Turtle):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-turtle",children:'@prefix sosa: <http://www.w3.org/ns/sosa/> .\n@prefix ssn: <http://www.w3.org/ns/ssn/> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n@prefix qudt: <http://qudt.org/schema/qudt/> .\n@prefix ex: <http://hcmc-traffic.example.org/> .\n\nex:Observation_CAM_001_20240115T103000Z a sosa:Observation ;\n    sosa:madeBySensor ex:Sensor_CAM_001 ;\n    sosa:hasFeatureOfInterest ex:RoadSegment_D1 ;\n    sosa:observedProperty ex:VehicleCount ;\n    sosa:hasSimpleResult 45 ;\n    sosa:resultTime "2024-01-15T10:30:00Z"^^xsd:dateTime ;\n    sosa:phenomenonTime [\n        a time:Instant ;\n        time:inXSDDateTimeStamp "2024-01-15T10:30:00Z"^^xsd:dateTimeStamp\n    ] .\n\nex:Sensor_CAM_001 a sosa:Sensor ;\n    sosa:observes ex:VehicleCount ;\n    sosa:isHostedBy ex:Platform_CAM_001 .\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sensor-description",children:"Sensor Description"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Create complete sensor description\nsensor = agent.create_sensor_description(\n    sensor_id="CAM_001",\n    sensor_type="camera",\n    location={"lat": 10.7769, "lon": 106.7009},\n    observes=["vehicle_count", "vehicle_speed", "traffic_flow"],\n    accuracy=0.95,\n    frequency="1 minute"\n)\n\nprint(sensor.serialize(format="json-ld"))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"platform-modeling",children:"Platform Modeling"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Model traffic camera platform\nplatform = agent.create_platform(\n    platform_id="PLATFORM_D1_001",\n    name="District 1 Traffic Station",\n    location={"lat": 10.7769, "lon": 106.7009},\n    hosts_sensors=["CAM_001", "CAM_002", "SPEED_SENSOR_001"],\n    deployment_date="2023-01-15"\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"observation-collection",children:"Observation Collection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Create observation collection (time series)\ncollection = agent.create_observation_collection(\n    sensor_id="CAM_001",\n    observations=[\n        {"timestamp": "2024-01-15T10:00:00Z", "value": 42},\n        {"timestamp": "2024-01-15T10:15:00Z", "value": 48},\n        {"timestamp": "2024-01-15T10:30:00Z", "value": 45}\n    ],\n    property="vehicle_count"\n)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,r.jsxs)(n.h3,{id:"class-sosassnmapperagent",children:["Class: ",(0,r.jsx)(n.code,{children:"SOSASSNMapperAgent"})]}),"\n",(0,r.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h5,{id:"map_to_sosa_observationdata-dict---sosaobservation",children:(0,r.jsx)(n.code,{children:"map_to_sosa_observation(data: dict) -> SOSAObservation"})}),"\n",(0,r.jsx)(n.p,{children:"Map sensor data to SOSA observation."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data"})," (dict): Sensor observation data"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SOSAObservation: SOSA observation object"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'obs = agent.map_to_sosa_observation({\n    "sensor_id": "CAM_001",\n    "timestamp": "2024-01-15T10:30:00Z",\n    "property": "vehicle_count",\n    "value": 45\n})\n'})}),"\n",(0,r.jsx)(n.h5,{id:"create_sensor_descriptionsensor_id-str-sensor_type-str-location-dict-observes-liststr-kwargs---sosasensor",children:(0,r.jsx)(n.code,{children:"create_sensor_description(sensor_id: str, sensor_type: str, location: dict, observes: List[str], **kwargs) -> SOSASensor"})}),"\n",(0,r.jsx)(n.p,{children:"Create comprehensive sensor description."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sensor_id"})," (str): Sensor identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sensor_type"})," (str): Type of sensor"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"location"})," (dict): Geographic location"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"observes"})," (List[str]): Observable properties"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"**kwargs"}),": Additional properties (accuracy, frequency, etc.)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SOSASensor: Sensor description"}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"create_platformplatform_id-str-name-str-location-dict-hosts_sensors-liststr-kwargs---sosaplatform",children:(0,r.jsx)(n.code,{children:"create_platform(platform_id: str, name: str, location: dict, hosts_sensors: List[str], **kwargs) -> SOSAPlatform"})}),"\n",(0,r.jsx)(n.p,{children:"Create platform description."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"platform_id"})," (str): Platform identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"})," (str): Platform name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"location"})," (dict): Geographic location"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"hosts_sensors"})," (List[str]): List of hosted sensor IDs"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SOSAPlatform: Platform description"}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"create_observation_collectionsensor_id-str-observations-listdict-property-str---sosaobservationcollection",children:(0,r.jsx)(n.code,{children:"create_observation_collection(sensor_id: str, observations: List[dict], property: str) -> SOSAObservationCollection"})}),"\n",(0,r.jsx)(n.p,{children:"Create time-series observation collection."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sensor_id"})," (str): Sensor identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"observations"})," (List[dict]): List of observations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"property"})," (str): Observable property"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SOSAObservationCollection: Observation collection"}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"serializeentity-any-format-str--turtle---str",children:(0,r.jsx)(n.code,{children:'serialize(entity: Any, format: str = "turtle") -> str'})}),"\n",(0,r.jsx)(n.p,{children:"Serialize SOSA/SSN entity to RDF format."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"entity"})," (Any): SOSA/SSN entity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"format"})," (str): Output format (turtle, json-ld, xml)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"str: Serialized RDF"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'ttl = agent.serialize(sensor, format="turtle")\njsonld = agent.serialize(sensor, format="json-ld")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"data-models",children:"Data Models"}),"\n",(0,r.jsx)(n.h4,{id:"sosaobservation",children:(0,r.jsx)(n.code,{children:"SOSAObservation"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@dataclass\nclass SOSAObservation:\n    observation_id: str\n    sensor_id: str\n    feature_of_interest: str\n    observed_property: str\n    result: any\n    result_time: datetime\n    phenomenon_time: datetime\n    unit_of_measurement: str\n    \n    def serialize(self, format: str = "turtle") -> str:\n        """Serialize to RDF format"""\n        pass\n'})}),"\n",(0,r.jsx)(n.h4,{id:"sosasensor",children:(0,r.jsx)(n.code,{children:"SOSASensor"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@dataclass\nclass SOSASensor:\n    sensor_id: str\n    sensor_type: str\n    observes: List[str]           # Observable properties\n    platform_id: str\n    location: dict\n    accuracy: float\n    measurement_range: dict\n    response_time: str\n    \n    def serialize(self, format: str = "turtle") -> str:\n        pass\n'})}),"\n",(0,r.jsx)(n.h4,{id:"sosaplatform",children:(0,r.jsx)(n.code,{children:"SOSAPlatform"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@dataclass\nclass SOSAPlatform:\n    platform_id: str\n    name: str\n    location: dict\n    hosts_sensors: List[str]\n    deployment_date: datetime\n    operator: str\n    \n    def serialize(self, format: str = "turtle") -> str:\n        pass\n'})}),"\n",(0,r.jsx)(n.h2,{id:"sosa-core-concepts",children:"SOSA Core Concepts"}),"\n",(0,r.jsx)(n.h3,{id:"1-observation",children:"1. Observation"}),"\n",(0,r.jsx)(n.p,{children:"An act of carrying out an observation procedure to estimate or calculate a value."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'observation = agent.map_to_sosa_observation({\n    "sensor_id": "CAM_001",\n    "property": "vehicle_count",\n    "value": 45,\n    "timestamp": "2024-01-15T10:30:00Z"\n})\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-sensor",children:"2. Sensor"}),"\n",(0,r.jsx)(n.p,{children:"A device that implements a sensing procedure and outputs observations."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'sensor = agent.create_sensor_description(\n    sensor_id="CAM_001",\n    sensor_type="camera",\n    observes=["vehicle_count", "vehicle_speed"]\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-observable-property",children:"3. Observable Property"}),"\n",(0,r.jsx)(n.p,{children:"An observable quality (property, characteristic) of a feature of interest."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'property = agent.define_observable_property(\n    name="VehicleCount",\n    description="Number of vehicles detected",\n    unit="http://qudt.org/vocab/unit/NUM"\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-feature-of-interest",children:"4. Feature of Interest"}),"\n",(0,r.jsx)(n.p,{children:"The thing whose property is being estimated or calculated."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'feature = agent.define_feature_of_interest(\n    feature_id="RoadSegment_D1",\n    type="RoadSegment",\n    location={"lat": 10.7769, "lon": 106.7009}\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"5-platform",children:"5. Platform"}),"\n",(0,r.jsx)(n.p,{children:"A platform hosts sensors and other platforms."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'platform = agent.create_platform(\n    platform_id="PLATFORM_001",\n    hosts_sensors=["CAM_001", "SPEED_001"]\n)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"ssn-extensions",children:"SSN Extensions"}),"\n",(0,r.jsx)(n.h3,{id:"system-capabilities",children:"System Capabilities"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Define sensor capabilities\ncapabilities = agent.define_system_capabilities(\n    sensor_id="CAM_001",\n    accuracy=0.95,\n    precision=0.98,\n    sensitivity="1 vehicle",\n    resolution="640x480",\n    response_time="1 second",\n    measurement_range={"min": 0, "max": 200}\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"operating-range",children:"Operating Range"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Define operating conditions\noperating_range = agent.define_operating_range(\n    sensor_id="CAM_001",\n    temperature_range={"min": -10, "max": 50},\n    humidity_range={"min": 0, "max": 95},\n    visibility_requirement="daylight or infrared"\n)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,r.jsx)(n.h3,{id:"integration-with-ngsi-ld-transformer",children:"Integration with NGSI-LD Transformer"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from src.agents.transformation.ngsi_ld_transformer_agent import NGSILDTransformerAgent\n\nsosa_agent = SOSASSNMapperAgent()\nngsi_agent = NGSILDTransformerAgent()\n\n# Create dual representation\nraw_data = {"sensor_id": "CAM_001", "value": 45, ...}\n\n# SOSA representation (for semantic queries)\nsosa_obs = sosa_agent.map_to_sosa_observation(raw_data)\n\n# NGSI-LD representation (for context management)\nngsi_entity = ngsi_agent.transform_to_ngsi_ld(raw_data, "TrafficFlowObserved")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"integration-with-triplestore-loader",children:"Integration with Triplestore Loader"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from src.agents.rdf_linked_data.triplestore_loader_agent import TriplestoreLoaderAgent\n\ntriplestore = TriplestoreLoaderAgent()\n\n# Map and load to triplestore\nobservation = agent.map_to_sosa_observation(data)\nttl = observation.serialize(format="turtle")\ntriplestore.load_triples(ttl, graph_name="observations")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"integration-with-lod-enrichment",children:"Integration with LOD Enrichment"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from src.agents.rdf_linked_data.lod_linkset_enrichment_agent import LODLinksetEnrichmentAgent\n\nlod_agent = LODLinksetEnrichmentAgent()\n\n# Enrich sensor location with DBpedia\nsensor = agent.create_sensor_description(...)\nenriched_sensor = lod_agent.enrich_location(sensor, "dbpedia")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"sparql-query-examples",children:"SPARQL Query Examples"}),"\n",(0,r.jsx)(n.h3,{id:"query-all-observations",children:"Query All Observations"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sparql",children:"PREFIX sosa: <http://www.w3.org/ns/sosa/>\nPREFIX ex: <http://hcmc-traffic.example.org/>\n\nSELECT ?obs ?sensor ?time ?value\nWHERE {\n    ?obs a sosa:Observation ;\n         sosa:madeBySensor ?sensor ;\n         sosa:resultTime ?time ;\n         sosa:hasSimpleResult ?value ;\n         sosa:observedProperty ex:VehicleCount .\n}\nORDER BY DESC(?time)\nLIMIT 100\n"})}),"\n",(0,r.jsx)(n.h3,{id:"query-sensor-capabilities",children:"Query Sensor Capabilities"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sparql",children:"PREFIX ssn: <http://www.w3.org/ns/ssn/>\nPREFIX sosa: <http://www.w3.org/ns/sosa/>\n\nSELECT ?sensor ?property ?accuracy\nWHERE {\n    ?sensor a sosa:Sensor ;\n           sosa:observes ?property ;\n           ssn:hasSystemCapability [\n               ssn:hasAccuracy ?accuracy\n           ] .\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"monitoring--metrics",children:"Monitoring & Metrics"}),"\n",(0,r.jsx)(n.h3,{id:"health-check",children:"Health Check"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'health = agent.health_check()\nprint(f"Status: {health.status}")\nprint(f"Mappings Created Today: {health.mappings_created}")\nprint(f"Serialization Success Rate: {health.serialization_success_rate}%")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mapping-statistics",children:"Mapping Statistics"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'stats = agent.get_statistics(time_range="7d")\n\nprint(f"Total Observations Mapped: {stats.total_observations}")\nprint(f"Sensors Described: {stats.sensors_described}")\nprint(f"Platforms Modeled: {stats.platforms_modeled}")\nprint(f"Format Distribution: {stats.format_distribution}")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"batch-mapping",children:"Batch Mapping"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Map multiple observations efficiently\nobservations = agent.batch_map_observations(\n    data_list=[...],\n    parallel=True,\n    num_workers=4\n)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"namespace-caching",children:"Namespace Caching"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Cache namespace prefixes\nagent.enable_namespace_caching(cache_size=100)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"template-based-generation",children:"Template-Based Generation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Use templates for faster serialization\nagent.use_templates(\n    observation_template="templates/observation.ttl",\n    sensor_template="templates/sensor.ttl"\n)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,r.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import pytest\n\ndef test_observation_mapping():\n    agent = SOSASSNMapperAgent()\n    \n    data = {\n        "sensor_id": "CAM_TEST",\n        "timestamp": "2024-01-15T10:30:00Z",\n        "property": "vehicle_count",\n        "value": 45\n    }\n    \n    obs = agent.map_to_sosa_observation(data)\n    \n    assert obs.sensor_id == "CAM_TEST"\n    assert obs.result == 45\n    assert obs.observed_property == "vehicle_count"\n\ndef test_serialization():\n    agent = SOSASSNMapperAgent()\n    \n    sensor = agent.create_sensor_description(\n        sensor_id="CAM_TEST",\n        sensor_type="camera",\n        location={"lat": 10.7769, "lon": 106.7009},\n        observes=["vehicle_count"]\n    )\n    \n    # Test different formats\n    ttl = sensor.serialize(format="turtle")\n    assert "@prefix sosa:" in ttl\n    \n    jsonld = sensor.serialize(format="json-ld")\n    assert "@context" in jsonld\n'})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"1-use-standard-vocabularies",children:"1. Use Standard Vocabularies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Use QUDT for units\n"unit": "http://qudt.org/vocab/unit/KiloM-PER-HR"\n\n# Use standard namespaces\n"sosa:", "ssn:", "geo:", "time:"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-link-to-features-of-interest",children:"2. Link to Features of Interest"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'observation = agent.map_to_sosa_observation(\n    data=data,\n    feature_of_interest="ex:RoadSegment_D1"\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-document-sensor-capabilities",children:"3. Document Sensor Capabilities"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'sensor = agent.create_sensor_description(\n    sensor_id="CAM_001",\n    accuracy=0.95,\n    measurement_range={"min": 0, "max": 200},\n    response_time="1 second"\n)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"issue-invalid-rdf-output",children:"Issue: Invalid RDF Output"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Validate namespaces and URI format"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'validation = agent.validate_rdf(observation.serialize())\nif not validation.is_valid:\n    print(f"Errors: {validation.errors}")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"issue-slow-serialization",children:"Issue: Slow Serialization"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Enable template-based generation"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'agent.use_templates(observation_template="templates/observation.ttl")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"issue-namespace-conflicts",children:"Issue: Namespace Conflicts"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Use explicit namespace prefixes"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'agent.configure_namespaces(\n    default_prefix="ex",\n    custom_namespaces={"ex": "http://hcmc-traffic.example.org/"}\n)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/tes/docs/agents/transformation/ngsi-ld-transformer",children:"NGSI-LD Transformer Agent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/tes/docs/agents/rdf-linked-data/triplestore-loader",children:"Triplestore Loader Agent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/tes/docs/agents/rdf-linked-data/ngsi-ld-to-rdf",children:"NGSI-LD to RDF Agent"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,r.jsx)(n.p,{children:"MIT License - Copyright (c) 2025 UIP Contributors (Nguy\u1ec5n Nh\u1eadt Quang, Nguy\u1ec5n Vi\u1ec7t Ho\xe0ng, Nguy\u1ec5n \u0110\xecnh Anh Tu\u1ea5n)"}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"../LICENSE",children:"LICENSE"})," for details."]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(6540);const r={},a=t.createContext(r);function i(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);