"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[788],{799:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"agents/context-management/entity-publisher","title":"entity-publisher","description":"\x3c!--","source":"@site/docs/agents/context-management/entity-publisher.md","sourceDirName":"agents/context-management","slug":"/agents/context-management/entity-publisher","permalink":"/tes/docs/agents/context-management/entity-publisher","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/context-management/entity-publisher.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"smart-data-models-validation","permalink":"/tes/docs/agents/rdf-linked-data/smart-data-models-validation"},"next":{"title":"state-updater","permalink":"/tes/docs/agents/context-management/state-updater"}}');var r=n(4848),s=n(8453);const a={},l="Entity Publisher Agent",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Usage",id:"usage",level:2},{value:"Create Entity",id:"create-entity",level:3},{value:"Update Entity",id:"update-entity",level:3},{value:"Batch Operations",id:"batch-operations",level:3},{value:"Query Entities",id:"query-entities",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Class: <code>EntityPublisherAgent</code>",id:"class-entitypublisheragent",level:3},{value:"Methods",id:"methods",level:4},{value:"<code>create_entity(entity: dict) -&gt; CreateResult</code>",id:"create_entityentity-dict---createresult",level:5},{value:"<code>update_entity(entity_id: str, attributes: dict) -&gt; bool</code>",id:"update_entityentity_id-str-attributes-dict---bool",level:5},{value:"<code>delete_entity(entity_id: str) -&gt; bool</code>",id:"delete_entityentity_id-str---bool",level:5},{value:"<code>batch_create(entities: List[dict]) -&gt; BatchResult</code>",id:"batch_createentities-listdict---batchresult",level:5},{value:"<code>query_entities(entity_type: str, **filters) -&gt; List[dict]</code>",id:"query_entitiesentity_type-str-filters---listdict",level:5},{value:"Integration Examples",id:"integration-examples",level:2},{value:"With NGSI-LD Transformer",id:"with-ngsi-ld-transformer",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"License",id:"license",level:2}];function o(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"entity-publisher-agent",children:"Entity Publisher Agent"})}),"\n",(0,r.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(t.p,{children:"The Entity Publisher Agent manages the lifecycle of NGSI-LD entities in Stellio Context Broker, handling creation, updates, subscriptions, and batch operations for real-time context management."}),"\n",(0,r.jsx)(t.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"CRUD Operations"}),": Create, Read, Update, Delete NGSI-LD entities"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Batch Processing"}),": Bulk operations for multiple entities"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Temporal Entities"}),": Time-series entity management"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Subscriptions"}),": Event-driven notifications"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Entity Relationships"}),": Manage semantic relationships"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Query Support"}),": Complex entity queries with filters"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-mermaid",children:"graph TB\n    A[Data Sources] --\x3e B[Entity Publisher]\n    B --\x3e C{Operation}\n    C --\x3e|Create| D[POST /entities]\n    C --\x3e|Update| E[PATCH /entities/:id]\n    C --\x3e|Delete| F[DELETE /entities/:id]\n    C --\x3e|Batch| G[POST /entityOperations]\n    D --\x3e H[Stellio Context Broker]\n    E --\x3e H\n    F --\x3e H\n    G --\x3e H\n    H --\x3e I[PostgreSQL + TimescaleDB]\n"})}),"\n",(0,r.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"File"}),": ",(0,r.jsx)(t.code,{children:"config/stellio.yaml"})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:'stellio:\n  base_url: "http://localhost:8080"\n  context: "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld"\n  \n  batch:\n    max_size: 100\n    parallel: true\n    \n  retry:\n    attempts: 3\n    delay: 5\n    \n  timeout: 30\n'})}),"\n",(0,r.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(t.h3,{id:"create-entity",children:"Create Entity"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from src.agents.context_management.entity_publisher_agent import EntityPublisherAgent\n\nagent = EntityPublisherAgent()\n\n# Create traffic flow entity\nentity = {\n    "id": "urn:ngsi-ld:TrafficFlowObserved:CAM_001:20240115T103000Z",\n    "type": "TrafficFlowObserved",\n    "location": {\n        "type": "GeoProperty",\n        "value": {"type": "Point", "coordinates": [106.7009, 10.7769]}\n    },\n    "intensity": {"type": "Property", "value": 45},\n    "averageVehicleSpeed": {"type": "Property", "value": 35.5, "unitCode": "KMH"}\n}\n\nresult = agent.create_entity(entity)\nprint(f"Created: {result.entity_id}")\n'})}),"\n",(0,r.jsx)(t.h3,{id:"update-entity",children:"Update Entity"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Partial update\nagent.update_entity(\n    entity_id="urn:ngsi-ld:TrafficFlowObserved:CAM_001",\n    attributes={\n        "intensity": {"type": "Property", "value": 52},\n        "averageVehicleSpeed": {"type": "Property", "value": 32.0}\n    }\n)\n'})}),"\n",(0,r.jsx)(t.h3,{id:"batch-operations",children:"Batch Operations"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Create multiple entities\nentities = [\n    {...},  # Entity 1\n    {...},  # Entity 2\n    {...}   # Entity 3\n]\n\nresult = agent.batch_create(entities)\nprint(f"Created: {result.success_count}/{result.total}")\n'})}),"\n",(0,r.jsx)(t.h3,{id:"query-entities",children:"Query Entities"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Query by type and location\nentities = agent.query_entities(\n    entity_type="TrafficFlowObserved",\n    geo_query={\n        "geometry": "Point",\n        "coordinates": [106.7009, 10.7769],\n        "georel": "near;maxDistance==1000"\n    },\n    time_query={\n        "timerel": "after",\n        "time": "2024-01-15T10:00:00Z"\n    }\n)\n'})}),"\n",(0,r.jsx)(t.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,r.jsxs)(t.h3,{id:"class-entitypublisheragent",children:["Class: ",(0,r.jsx)(t.code,{children:"EntityPublisherAgent"})]}),"\n",(0,r.jsx)(t.h4,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(t.h5,{id:"create_entityentity-dict---createresult",children:(0,r.jsx)(t.code,{children:"create_entity(entity: dict) -> CreateResult"})}),"\n",(0,r.jsx)(t.p,{children:"Create new NGSI-LD entity."}),"\n",(0,r.jsx)(t.h5,{id:"update_entityentity_id-str-attributes-dict---bool",children:(0,r.jsx)(t.code,{children:"update_entity(entity_id: str, attributes: dict) -> bool"})}),"\n",(0,r.jsx)(t.p,{children:"Update entity attributes."}),"\n",(0,r.jsx)(t.h5,{id:"delete_entityentity_id-str---bool",children:(0,r.jsx)(t.code,{children:"delete_entity(entity_id: str) -> bool"})}),"\n",(0,r.jsx)(t.p,{children:"Delete entity."}),"\n",(0,r.jsx)(t.h5,{id:"batch_createentities-listdict---batchresult",children:(0,r.jsx)(t.code,{children:"batch_create(entities: List[dict]) -> BatchResult"})}),"\n",(0,r.jsx)(t.p,{children:"Create multiple entities."}),"\n",(0,r.jsx)(t.h5,{id:"query_entitiesentity_type-str-filters---listdict",children:(0,r.jsx)(t.code,{children:"query_entities(entity_type: str, **filters) -> List[dict]"})}),"\n",(0,r.jsx)(t.p,{children:"Query entities with filters."}),"\n",(0,r.jsx)(t.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,r.jsx)(t.h3,{id:"with-ngsi-ld-transformer",children:"With NGSI-LD Transformer"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from src.agents.transformation.ngsi_ld_transformer_agent import NGSILDTransformerAgent\n\ntransformer = NGSILDTransformerAgent()\npublisher = EntityPublisherAgent()\n\n# Transform and publish\nentity = transformer.transform_to_ngsi_ld(raw_data, "TrafficFlowObserved")\npublisher.create_entity(entity)\n'})}),"\n",(0,r.jsx)(t.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/tes/docs/agents/transformation/ngsi-ld-transformer",children:"NGSI-LD Transformer Agent"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/tes/docs/agents/context-management/stellio-state-query",children:"Stellio State Query Agent"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/tes/docs/agents/context-management/temporal-data-manager",children:"Temporal Data Manager Agent"})}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"license",children:"License"}),"\n",(0,r.jsx)(t.p,{children:"MIT License - Copyright (c) 2025 UIP Contributors (Nguy\u1ec5n Nh\u1eadt Quang, Nguy\u1ec5n Vi\u1ec7t Ho\xe0ng, Nguy\u1ec5n \u0110\xecnh Anh Tu\u1ea5n)"}),"\n",(0,r.jsxs)(t.p,{children:["See ",(0,r.jsx)(t.a,{href:"../LICENSE",children:"LICENSE"})," for details."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>l});var i=n(6540);const r={},s=i.createContext(r);function a(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);