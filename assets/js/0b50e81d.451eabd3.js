"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[3366],{3575:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"agents/data-collection/external-data-collector","title":"external-data-collector","description":"\x3c!--","source":"@site/docs/agents/data-collection/external-data-collector.md","sourceDirName":"agents/data-collection","slug":"/agents/data-collection/external-data-collector","permalink":"/tes/docs/agents/data-collection/external-data-collector","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/data-collection/external-data-collector.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"air-quality","permalink":"/tes/docs/agents/data-collection/air-quality"},"next":{"title":"image-refresh","permalink":"/tes/docs/agents/data-collection/image-refresh"}}');var l=r(4848),a=r(8453);const s={sidebar_position:3},c="External Data Collector Agent",i={},o=[{value:"\ud83d\udccb Overview",id:"-overview",level:2},{value:"\ud83c\udfaf Purpose",id:"-purpose",level:2},{value:"\ud83c\udf10 Supported Sources",id:"-supported-sources",level:2},{value:"\ud83d\ude80 Usage",id:"-usage",level:2},{value:"Collect Weather Data",id:"collect-weather-data",level:3},{value:"Collect Multiple Sources",id:"collect-multiple-sources",level:3},{value:"Schedule Collection",id:"schedule-collection",level:3},{value:"\u2699\ufe0f Configuration",id:"\ufe0f-configuration",level:2},{value:"\ud83d\udcca Data Transformation",id:"-data-transformation",level:2},{value:"Weather to NGSI-LD",id:"weather-to-ngsi-ld",level:3},{value:"\ud83d\udcd6 Related Documentation",id:"-related-documentation",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"external-data-collector-agent",children:"External Data Collector Agent"})}),"\n",(0,l.jsx)(t.p,{children:"The External Data Collector Agent fetches data from external APIs and integrates it into the platform."}),"\n",(0,l.jsx)(t.h2,{id:"-overview",children:"\ud83d\udccb Overview"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Property"}),(0,l.jsx)(t.th,{children:"Value"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.strong,{children:"Module"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"src.agents.data_collection.external_data_collector_agent"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.strong,{children:"Class"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"ExternalDataCollectorAgent"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.strong,{children:"Author"})}),(0,l.jsx)(t.td,{children:"UIP Team"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.strong,{children:"Version"})}),(0,l.jsx)(t.td,{children:"1.0.0"})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"-purpose",children:"\ud83c\udfaf Purpose"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"Collect external data"})," from third-party APIs"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"Normalize data formats"})," to platform standards"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"Handle rate limiting"})," and API quotas"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"Cache responses"})," for efficiency"]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"-supported-sources",children:"\ud83c\udf10 Supported Sources"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Source"}),(0,l.jsx)(t.th,{children:"Data Type"}),(0,l.jsx)(t.th,{children:"Update Frequency"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Weather APIs"}),(0,l.jsx)(t.td,{children:"Meteorological"}),(0,l.jsx)(t.td,{children:"15 minutes"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Air Quality"}),(0,l.jsx)(t.td,{children:"AQI readings"}),(0,l.jsx)(t.td,{children:"30 minutes"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Traffic APIs"}),(0,l.jsx)(t.td,{children:"Flow data"}),(0,l.jsx)(t.td,{children:"5 minutes"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Event Services"}),(0,l.jsx)(t.td,{children:"City events"}),(0,l.jsx)(t.td,{children:"1 hour"})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"-usage",children:"\ud83d\ude80 Usage"}),"\n",(0,l.jsx)(t.h3,{id:"collect-weather-data",children:"Collect Weather Data"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'from src.agents.data_collection.external_data_collector_agent import ExternalDataCollectorAgent\r\n\r\ncollector = ExternalDataCollectorAgent()\r\n\r\n# Collect weather data\r\nweather = await collector.collect(\r\n    source="openweathermap",\r\n    location={"lat": 10.8231, "lon": 106.6297},\r\n    data_type="current"\r\n)\n'})}),"\n",(0,l.jsx)(t.h3,{id:"collect-multiple-sources",children:"Collect Multiple Sources"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'# Collect from multiple sources\r\ndata = await collector.collect_all([\r\n    {"source": "openweathermap", "location": hcmc_coords},\r\n    {"source": "airquality", "location": hcmc_coords},\r\n    {"source": "events", "city": "Ho Chi Minh City"}\r\n])\n'})}),"\n",(0,l.jsx)(t.h3,{id:"schedule-collection",children:"Schedule Collection"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'# Register scheduled collection\r\ncollector.schedule(\r\n    source="openweathermap",\r\n    interval_minutes=15,\r\n    callback=process_weather_data\r\n)\n'})}),"\n",(0,l.jsx)(t.h2,{id:"\ufe0f-configuration",children:"\u2699\ufe0f Configuration"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-yaml",children:'# config/data_sources.yaml\r\nexternal_data_collector:\r\n  enabled: true\r\n  \r\n  sources:\r\n    openweathermap:\r\n      url: "https://api.openweathermap.org/data/2.5"\r\n      api_key: "${OPENWEATHER_API_KEY}"\r\n      rate_limit: 60  # requests per minute\r\n    \r\n    airquality:\r\n      url: "https://api.waqi.info"\r\n      api_key: "${AIRQUALITY_API_KEY}"\r\n      rate_limit: 1000  # requests per day\r\n  \r\n  cache:\r\n    enabled: true\r\n    ttl_seconds: 300\n'})}),"\n",(0,l.jsx)(t.h2,{id:"-data-transformation",children:"\ud83d\udcca Data Transformation"}),"\n",(0,l.jsx)(t.h3,{id:"weather-to-ngsi-ld",children:"Weather to NGSI-LD"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'# Transform weather to NGSI-LD format\r\nngsi_weather = collector.transform_to_ngsi_ld(\r\n    weather_data,\r\n    entity_type="WeatherObserved",\r\n    entity_id="urn:ngsi-ld:WeatherObserved:HCMC_01"\r\n)\n'})}),"\n",(0,l.jsx)(t.h2,{id:"-related-documentation",children:"\ud83d\udcd6 Related Documentation"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"weather-integration",children:"Weather Integration"})," - Weather specifics"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"air-quality",children:"Air Quality"})," - AQI integration"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"../transformation/ngsi-ld-transformer",children:"NGSI-LD Transformer"})," - Data transformation"]}),"\n"]}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsxs)(t.p,{children:["See the ",(0,l.jsx)(t.a,{href:"../complete-agents-reference",children:"complete agents reference"})," for all available agents."]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>c});var n=r(6540);const l={},a=n.createContext(l);function s(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);