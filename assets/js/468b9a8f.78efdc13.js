"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[3003],{8254:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"agents/data-collection/air-quality","title":"air-quality","description":"\x3c!--","source":"@site/docs/agents/data-collection/air-quality.md","sourceDirName":"agents/data-collection","slug":"/agents/data-collection/air-quality","permalink":"/tes/docs/agents/data-collection/air-quality","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/data-collection/air-quality.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"weather-integration","permalink":"/tes/docs/agents/data-collection/weather-integration"},"next":{"title":"external-data-collector","permalink":"/tes/docs/agents/data-collection/external-data-collector"}}');var i=t(4848),l=t(8453);const s={},r="Air Quality Agent",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Detailed Pollutant Analysis",id:"detailed-pollutant-analysis",level:3},{value:"Health Impact Assessment",id:"health-impact-assessment",level:3},{value:"Traffic-AQI Correlation",id:"traffic-aqi-correlation",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Class: <code>AirQualityAgent</code>",id:"class-airqualityagent",level:3},{value:"Methods",id:"methods",level:4},{value:"<code>get_current_aqi(lat: float, lon: float) -&gt; AQIData</code>",id:"get_current_aqilat-float-lon-float---aqidata",level:5},{value:"<code>get_pollutant_levels(lat: float, lon: float) -&gt; PollutantData</code>",id:"get_pollutant_levelslat-float-lon-float---pollutantdata",level:5},{value:"<code>assess_health_impact(aqi: AQIData) -&gt; HealthAssessment</code>",id:"assess_health_impactaqi-aqidata---healthassessment",level:5},{value:"<code>get_aqi_forecast(lat: float, lon: float, hours: int = 24) -&gt; List[AQIForecast]</code>",id:"get_aqi_forecastlat-float-lon-float-hours-int--24---listaqiforecast",level:5},{value:"Data Models",id:"data-models",level:3},{value:"<code>AQIData</code>",id:"aqidata",level:4},{value:"<code>PollutantData</code>",id:"pollutantdata",level:4},{value:"<code>HealthAssessment</code>",id:"healthassessment",level:4},{value:"AQI Categories",id:"aqi-categories",level:2},{value:"AQI Scale &amp; Health Implications",id:"aqi-scale--health-implications",level:3},{value:"Pollutant-Specific Thresholds",id:"pollutant-specific-thresholds",level:3},{value:"Integration Examples",id:"integration-examples",level:2},{value:"Integration with Traffic Analysis",id:"integration-with-traffic-analysis",level:3},{value:"Integration with Route Planning",id:"integration-with-route-planning",level:3},{value:"Real-time Monitoring Dashboard",id:"real-time-monitoring-dashboard",level:3},{value:"Monitoring &amp; Alerts",id:"monitoring--alerts",level:2},{value:"Health Check",id:"health-check",level:3},{value:"Alert Configuration",id:"alert-configuration",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Caching Strategy",id:"caching-strategy",level:3},{value:"Batch Processing",id:"batch-processing",level:3},{value:"Testing",id:"testing",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Multi-Source Validation",id:"1-multi-source-validation",level:3},{value:"2. Historical Data Analysis",id:"2-historical-data-analysis",level:3},{value:"3. Predictive Modeling",id:"3-predictive-modeling",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Issue: Inconsistent AQI Values",id:"issue-inconsistent-aqi-values",level:3},{value:"Issue: Missing Pollutant Data",id:"issue-missing-pollutant-data",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"License",id:"license",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"air-quality-agent",children:"Air Quality Agent"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The Air Quality Agent monitors environmental conditions across HCMC, collecting data on pollutants (PM2.5, PM10, NO2, SO2, CO, O3) and correlating air quality with traffic density and patterns."}),"\n",(0,i.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Real-time AQI Monitoring"}),": Track Air Quality Index across multiple stations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Pollutant Analysis"}),": Monitor PM2.5, PM10, NO2, SO2, CO, O3 levels"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Health Impact Assessment"}),": Calculate health risks based on AQI levels"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Traffic-AQI Correlation"}),": Link traffic congestion to pollution levels"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Predictive Modeling"}),": Forecast air quality based on traffic patterns"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Historical Analysis"}),": Long-term air quality trend analysis"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"graph TB\n    A[Air Quality Stations] --\x3e D[AQ Agent]\n    B[OpenWeatherMap AQ API] --\x3e D\n    C[IQAir API] --\x3e D\n    D --\x3e E[AQI Calculator]\n    E --\x3e F[Health Assessor]\n    E --\x3e G[MongoDB Storage]\n    F --\x3e H[Alert System]\n    G --\x3e I[Traffic Correlator]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"config/data_sources.yaml"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'air_quality_sources:\n  openweathermap:\n    api_key: "${OPENWEATHER_API_KEY}"\n    endpoint: "/air_pollution"\n    \n  iqair:\n    api_key: "${IQAIR_API_KEY}"\n    base_url: "https://api.airvisual.com/v2"\n    \n  monitoring_stations:\n    - id: "AQ_DIST1"\n      name: "District 1 Station"\n      lat: 10.7769\n      lon: 106.7009\n      pollutants: ["PM2.5", "PM10", "NO2", "SO2", "CO", "O3"]\n      \n    - id: "AQ_DIST3"\n      name: "District 3 Station"\n      lat: 10.7819\n      lon: 106.6893\n      pollutants: ["PM2.5", "PM10", "NO2"]\n      \n  update_intervals:\n    realtime: 300        # 5 minutes\n    historical: 3600     # 1 hour\n    \n  thresholds:\n    pm25:\n      good: 12\n      moderate: 35\n      unhealthy_sensitive: 55\n      unhealthy: 150\n      very_unhealthy: 250\n      hazardous: 500\n      \n    pm10:\n      good: 54\n      moderate: 154\n      unhealthy_sensitive: 254\n      unhealthy: 354\n      very_unhealthy: 424\n      hazardous: 604\n'})}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from src.agents.data_collection.air_quality_agent import AirQualityAgent\n\n# Initialize agent\nagent = AirQualityAgent()\n\n# Get current AQI\naqi_data = agent.get_current_aqi(\n    lat=10.7769,\n    lon=106.7009\n)\n\nprint(f"AQI: {aqi_data.aqi}")\nprint(f"Level: {aqi_data.level}")\nprint(f"Main Pollutant: {aqi_data.main_pollutant}")\nprint(f"Health Message: {aqi_data.health_message}")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"detailed-pollutant-analysis",children:"Detailed Pollutant Analysis"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Get all pollutant levels\npollutants = agent.get_pollutant_levels(\n    lat=10.7769,\n    lon=106.7009\n)\n\nprint(f"PM2.5: {pollutants.pm25} \xb5g/m\xb3")\nprint(f"PM10: {pollutants.pm10} \xb5g/m\xb3")\nprint(f"NO2: {pollutants.no2} \xb5g/m\xb3")\nprint(f"SO2: {pollutants.so2} \xb5g/m\xb3")\nprint(f"CO: {pollutants.co} \xb5g/m\xb3")\nprint(f"O3: {pollutants.o3} \xb5g/m\xb3")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"health-impact-assessment",children:"Health Impact Assessment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Assess health risks\nhealth_assessment = agent.assess_health_impact(aqi=aqi_data)\n\nprint(f"Risk Level: {health_assessment.risk_level}")\nprint(f"Affected Groups: {\', \'.join(health_assessment.affected_groups)}")\nprint(f"Recommendations: {health_assessment.recommendations}")\nprint(f"Outdoor Activity Safety: {health_assessment.outdoor_safety}")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"traffic-aqi-correlation",children:"Traffic-AQI Correlation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Analyze traffic impact on air quality\ncorrelation = agent.analyze_traffic_aqi_correlation(\n    time_range="30d",\n    location="District 1"\n)\n\nprint(f"Traffic-AQI Correlation: {correlation.coefficient}")\nprint(f"Peak Pollution Hours: {correlation.peak_hours}")\nprint(f"Traffic Contribution: {correlation.traffic_contribution_pct}%")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,i.jsxs)(n.h3,{id:"class-airqualityagent",children:["Class: ",(0,i.jsx)(n.code,{children:"AirQualityAgent"})]}),"\n",(0,i.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.h5,{id:"get_current_aqilat-float-lon-float---aqidata",children:(0,i.jsx)(n.code,{children:"get_current_aqi(lat: float, lon: float) -> AQIData"})}),"\n",(0,i.jsx)(n.p,{children:"Get current Air Quality Index for location."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lat"})," (float): Latitude"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lon"})," (float): Longitude"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"AQIData: Current AQI information"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'aqi = agent.get_current_aqi(lat=10.7769, lon=106.7009)\nprint(f"AQI: {aqi.aqi} - {aqi.level}")\n'})}),"\n",(0,i.jsx)(n.h5,{id:"get_pollutant_levelslat-float-lon-float---pollutantdata",children:(0,i.jsx)(n.code,{children:"get_pollutant_levels(lat: float, lon: float) -> PollutantData"})}),"\n",(0,i.jsx)(n.p,{children:"Get detailed pollutant measurements."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lat"})," (float): Latitude"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lon"})," (float): Longitude"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"PollutantData: Pollutant concentrations"}),"\n"]}),"\n",(0,i.jsx)(n.h5,{id:"assess_health_impactaqi-aqidata---healthassessment",children:(0,i.jsx)(n.code,{children:"assess_health_impact(aqi: AQIData) -> HealthAssessment"})}),"\n",(0,i.jsx)(n.p,{children:"Calculate health risks based on AQI."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"aqi"})," (AQIData): AQI data object"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"HealthAssessment: Health impact information"}),"\n"]}),"\n",(0,i.jsx)(n.h5,{id:"get_aqi_forecastlat-float-lon-float-hours-int--24---listaqiforecast",children:(0,i.jsx)(n.code,{children:"get_aqi_forecast(lat: float, lon: float, hours: int = 24) -> List[AQIForecast]"})}),"\n",(0,i.jsx)(n.p,{children:"Get predicted AQI for upcoming hours."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lat"})," (float): Latitude"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lon"})," (float): Longitude"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"hours"})," (int): Forecast hours (default: 24)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"List[AQIForecast]: Hourly AQI predictions"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'forecast = agent.get_aqi_forecast(lat=10.7769, lon=106.7009, hours=24)\nfor hour in forecast:\n    print(f"{hour.timestamp}: AQI {hour.aqi} ({hour.level})")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"data-models",children:"Data Models"}),"\n",(0,i.jsx)(n.h4,{id:"aqidata",children:(0,i.jsx)(n.code,{children:"AQIData"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"@dataclass\nclass AQIData:\n    timestamp: datetime\n    location: dict\n    aqi: int                    # 0-500 scale\n    level: str                  # good, moderate, unhealthy, etc.\n    main_pollutant: str         # PM2.5, PM10, NO2, etc.\n    health_message: str\n    color_code: str             # Hex color for visualization\n    recommendations: List[str]\n"})}),"\n",(0,i.jsx)(n.h4,{id:"pollutantdata",children:(0,i.jsx)(n.code,{children:"PollutantData"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"@dataclass\nclass PollutantData:\n    timestamp: datetime\n    location: dict\n    pm25: float          # \xb5g/m\xb3\n    pm10: float          # \xb5g/m\xb3\n    no2: float           # \xb5g/m\xb3\n    so2: float           # \xb5g/m\xb3\n    co: float            # \xb5g/m\xb3\n    o3: float            # \xb5g/m\xb3\n    aqi_by_pollutant: dict\n"})}),"\n",(0,i.jsx)(n.h4,{id:"healthassessment",children:(0,i.jsx)(n.code,{children:"HealthAssessment"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"@dataclass\nclass HealthAssessment:\n    risk_level: str                        # low, moderate, high, very_high\n    affected_groups: List[str]             # children, elderly, asthmatics, etc.\n    recommendations: List[str]\n    outdoor_safety: str                    # safe, caution, unsafe\n    suggested_actions: List[str]\n    protective_measures: List[str]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"aqi-categories",children:"AQI Categories"}),"\n",(0,i.jsx)(n.h3,{id:"aqi-scale--health-implications",children:"AQI Scale & Health Implications"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"AQI Range"}),(0,i.jsx)(n.th,{children:"Level"}),(0,i.jsx)(n.th,{children:"Color"}),(0,i.jsx)(n.th,{children:"Health Impact"}),(0,i.jsx)(n.th,{children:"Actions"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"0-50"}),(0,i.jsx)(n.td,{children:"Good"}),(0,i.jsx)(n.td,{children:"\ud83d\udfe2 Green"}),(0,i.jsx)(n.td,{children:"Minimal"}),(0,i.jsx)(n.td,{children:"Normal activities"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"51-100"}),(0,i.jsx)(n.td,{children:"Moderate"}),(0,i.jsx)(n.td,{children:"\ud83d\udfe1 Yellow"}),(0,i.jsx)(n.td,{children:"Low risk"}),(0,i.jsx)(n.td,{children:"Sensitive groups be cautious"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"101-150"}),(0,i.jsx)(n.td,{children:"Unhealthy for Sensitive"}),(0,i.jsx)(n.td,{children:"\ud83d\udfe0 Orange"}),(0,i.jsx)(n.td,{children:"Moderate"}),(0,i.jsx)(n.td,{children:"Sensitive groups reduce outdoor activity"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"151-200"}),(0,i.jsx)(n.td,{children:"Unhealthy"}),(0,i.jsx)(n.td,{children:"\ud83d\udd34 Red"}),(0,i.jsx)(n.td,{children:"High"}),(0,i.jsx)(n.td,{children:"Everyone reduce outdoor activity"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"201-300"}),(0,i.jsx)(n.td,{children:"Very Unhealthy"}),(0,i.jsx)(n.td,{children:"\ud83d\udfe3 Purple"}),(0,i.jsx)(n.td,{children:"Very High"}),(0,i.jsx)(n.td,{children:"Avoid outdoor activities"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"301-500"}),(0,i.jsx)(n.td,{children:"Hazardous"}),(0,i.jsx)(n.td,{children:"\ud83d\udfe4 Maroon"}),(0,i.jsx)(n.td,{children:"Extremely High"}),(0,i.jsx)(n.td,{children:"Stay indoors, use air purifiers"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"pollutant-specific-thresholds",children:"Pollutant-Specific Thresholds"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Get pollutant-specific health guidance\nguidance = agent.get_pollutant_guidance(\n    pollutant="PM2.5",\n    concentration=65\n)\n\nprint(f"Level: {guidance.level}")\nprint(f"Health Effects: {guidance.health_effects}")\nprint(f"Recommendations: {guidance.recommendations}")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,i.jsx)(n.h3,{id:"integration-with-traffic-analysis",children:"Integration with Traffic Analysis"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from src.agents.analytics.congestion_detection_agent import CongestionDetectionAgent\n\naqi_agent = AirQualityAgent()\ncongestion_agent = CongestionDetectionAgent()\n\n# Correlate congestion with air quality\ndef analyze_congestion_pollution(location):\n    aqi = aqi_agent.get_current_aqi(\n        lat=location["lat"],\n        lon=location["lon"]\n    )\n    \n    congestion = congestion_agent.get_congestion_level(\n        location=location\n    )\n    \n    return {\n        "aqi": aqi.aqi,\n        "congestion_level": congestion.level,\n        "correlation": aqi_agent.calculate_correlation(aqi, congestion)\n    }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"integration-with-route-planning",children:"Integration with Route Planning"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Recommend healthier routes based on AQI\ndef get_healthiest_route(origin, destination):\n    routes = route_planner.get_all_routes(origin, destination)\n    \n    for route in routes:\n        # Calculate average AQI along route\n        route_aqi = agent.calculate_route_aqi(\n            waypoints=route.waypoints\n        )\n        route.aqi_score = route_aqi.average\n        route.health_impact = route_aqi.health_level\n    \n    # Sort by health impact\n    return sorted(routes, key=lambda r: r.aqi_score)[0]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"real-time-monitoring-dashboard",children:"Real-time Monitoring Dashboard"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Setup real-time AQI monitoring\ndef monitor_air_quality():\n    agent = AirQualityAgent()\n    \n    # Monitor multiple locations\n    locations = [\n        {"name": "District 1", "lat": 10.7769, "lon": 106.7009},\n        {"name": "District 3", "lat": 10.7819, "lon": 106.6893},\n        {"name": "Airport", "lat": 10.8184, "lon": 106.6520}\n    ]\n    \n    while True:\n        for loc in locations:\n            aqi = agent.get_current_aqi(lat=loc["lat"], lon=loc["lon"])\n            \n            if aqi.aqi > 150:  # Unhealthy level\n                send_alert(f"High AQI in {loc[\'name\']}: {aqi.aqi}")\n                \n        time.sleep(300)  # Check every 5 minutes\n'})}),"\n",(0,i.jsx)(n.h2,{id:"monitoring--alerts",children:"Monitoring & Alerts"}),"\n",(0,i.jsx)(n.h3,{id:"health-check",children:"Health Check"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'health = agent.health_check()\nprint(f"Status: {health.status}")\nprint(f"Active Stations: {health.active_stations}")\nprint(f"Data Freshness: {health.data_age_seconds}s")\nprint(f"API Response Time: {health.api_response_time}ms")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"alert-configuration",children:"Alert Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Configure AQI alerts\nagent.configure_alerts(\n    threshold_aqi=100,\n    affected_areas=["District 1", "District 3"],\n    alert_methods=["email", "sms", "webhook"],\n    callback=handle_alert\n)\n\ndef handle_alert(alert):\n    print(f"AQI Alert: {alert.location} - AQI {alert.aqi}")\n    # Send notification\n'})}),"\n",(0,i.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,i.jsx)(n.h3,{id:"caching-strategy",children:"Caching Strategy"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Configure multi-tier caching\nagent.configure_cache(\n    realtime_ttl=300,      # 5 minutes\n    historical_ttl=3600,   # 1 hour\n    forecast_ttl=1800      # 30 minutes\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"batch-processing",children:"Batch Processing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Fetch AQI for multiple locations efficiently\nlocations = [\n    {"lat": 10.7769, "lon": 106.7009},\n    {"lat": 10.7819, "lon": 106.6893},\n    {"lat": 10.8184, "lon": 106.6520}\n]\n\naqi_data = agent.batch_get_aqi(\n    locations=locations,\n    parallel=True\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,i.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import pytest\n\ndef test_aqi_calculation():\n    agent = AirQualityAgent()\n    \n    pollutants = PollutantData(\n        pm25=35.5,\n        pm10=80,\n        no2=40,\n        so2=20,\n        co=500,\n        o3=60\n    )\n    \n    aqi = agent.calculate_aqi(pollutants)\n    assert 0 <= aqi <= 500\n    assert aqi.main_pollutant in ["PM2.5", "PM10", "NO2", "SO2", "CO", "O3"]\n\ndef test_health_assessment():\n    agent = AirQualityAgent()\n    \n    aqi_data = AQIData(aqi=175, level="unhealthy")\n    assessment = agent.assess_health_impact(aqi_data)\n    \n    assert assessment.risk_level == "high"\n    assert len(assessment.recommendations) > 0\n'})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-multi-source-validation",children:"1. Multi-Source Validation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Use multiple data sources for accuracy\nagent.enable_multi_source(\n    sources=["openweathermap", "iqair"],\n    validation_method="average"\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-historical-data-analysis",children:"2. Historical Data Analysis"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Analyze long-term trends\ntrends = agent.analyze_historical_trends(\n    start_date="2024-01-01",\n    end_date="2024-12-31",\n    location="District 1"\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"3-predictive-modeling",children:"3. Predictive Modeling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Forecast AQI based on traffic predictions\nforecast = agent.forecast_aqi_with_traffic(\n    traffic_prediction=traffic_forecast,\n    hours=24\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"issue-inconsistent-aqi-values",children:"Issue: Inconsistent AQI Values"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Enable multi-source validation"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"agent.enable_data_validation(min_sources=2, max_deviation=10)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"issue-missing-pollutant-data",children:"Issue: Missing Pollutant Data"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Configure fallback sources"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'agent.configure_fallback(\n    primary="openweathermap",\n    fallback=["iqair", "local_stations"]\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/tes/docs/agents/data-collection/weather-integration",children:"Weather Integration Agent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/tes/docs/agents/analytics/pattern-recognition",children:"Pattern Recognition Agent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/tes/docs/agents/monitoring/health-check",children:"Health Check Agent"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,i.jsx)(n.p,{children:"MIT License - Copyright (c) 2025 UIP Contributors (Nguy\u1ec5n Nh\u1eadt Quang, Nguy\u1ec5n Vi\u1ec7t Ho\xe0ng, Nguy\u1ec5n \u0110\xecnh Anh Tu\u1ea5n)"}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"../LICENSE",children:"LICENSE"})," for details."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var a=t(6540);const i={},l=a.createContext(i);function s(e){const n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);