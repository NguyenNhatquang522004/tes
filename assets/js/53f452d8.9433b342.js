"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[1468],{907:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"backend/routes/accident-routes","title":"Accident Routes","description":"RESTful API endpoints for querying traffic accident entities with severity, location, casualties, and resolution status.","source":"@site/docs/backend/routes/accident.md","sourceDirName":"backend/routes","slug":"/backend/routes/accident-routes","permalink":"/tes/docs/backend/routes/accident-routes","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/backend/routes/accident.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"accident-routes","title":"Accident Routes","sidebar_label":"Accident","sidebar_position":5,"description":"RESTful API endpoints for querying traffic accident entities with severity, location, casualties, and resolution status.","keywords":["accident","traffic","incident","safety","neo4j","ngsi-ld"]}}');var r=i(4848),t=i(8453);const d={id:"accident-routes",title:"Accident Routes",sidebar_label:"Accident",sidebar_position:5,description:"RESTful API endpoints for querying traffic accident entities with severity, location, casualties, and resolution status.",keywords:["accident","traffic","incident","safety","neo4j","ngsi-ld"]},c="Accident Routes",l={},a=[{value:"Base Path",id:"base-path",level:2},{value:"Endpoints Summary",id:"endpoints-summary",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"GET /api/accidents",id:"get-apiaccidents",level:3},{value:"GET /api/accidents/active",id:"get-apiaccidentsactive",level:3},{value:"GET /api/accidents/area",id:"get-apiaccidentsarea",level:3},{value:"GET /api/accidents//relationships",id:"get-apiaccidentsrelationships",level:3},{value:"Accident Types",id:"accident-types",level:2},{value:"Severity Levels",id:"severity-levels",level:2},{value:"Related Documentation",id:"related-documentation",level:2},{value:"References",id:"references",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"accident-routes",children:"Accident Routes"})}),"\n",(0,r.jsxs)(n.p,{children:["RESTful API endpoints for querying ",(0,r.jsx)(n.strong,{children:"traffic accident entities"})," (RoadAccident) with severity, location, casualties, and resolution status from Stellio and Neo4j."]}),"\n",(0,r.jsx)(n.h2,{id:"base-path",children:"Base Path"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/api/accidents\n"})}),"\n",(0,r.jsx)(n.h2,{id:"endpoints-summary",children:"Endpoints Summary"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Endpoint"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GET"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/"})}),(0,r.jsx)(n.td,{children:"List all accidents"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GET"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/:id"})}),(0,r.jsx)(n.td,{children:"Get accident by ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GET"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/active"})}),(0,r.jsx)(n.td,{children:"Get unresolved accidents"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GET"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/area"})}),(0,r.jsx)(n.td,{children:"Get accidents in area"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GET"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/:id/relationships"})}),(0,r.jsx)(n.td,{children:"Get related entities"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,r.jsx)(n.h3,{id:"get-apiaccidents",children:"GET /api/accidents"}),"\n",(0,r.jsx)(n.p,{children:"List all accidents with optional filters."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"limit"})}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"100"}),(0,r.jsx)(n.td,{children:"Maximum results"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"severity"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsxs)(n.td,{children:["Filter: ",(0,r.jsx)(n.code,{children:"minor"}),", ",(0,r.jsx)(n.code,{children:"moderate"}),", ",(0,r.jsx)(n.code,{children:"serious"}),", ",(0,r.jsx)(n.code,{children:"critical"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"resolved"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Filter by resolution status"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"from"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Start date (ISO 8601)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"to"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"End date (ISO 8601)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": true,\r\n  "data": [\r\n    {\r\n      "id": "urn:ngsi-ld:RoadAccident:001",\r\n      "location": {\r\n        "latitude": 10.7731,\r\n        "longitude": 106.7030,\r\n        "address": "123 Nguyen Hue, District 1"\r\n      },\r\n      "type": "collision",\r\n      "severity": "serious",\r\n      "description": "Multi-vehicle collision",\r\n      "timestamp": "2025-01-15T10:30:00.000Z",\r\n      "resolved": false,\r\n      "casualties": 2\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"get-apiaccidentsactive",children:"GET /api/accidents/active"}),"\n",(0,r.jsx)(n.p,{children:"Get currently unresolved accidents."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": true,\r\n  "data": [\r\n    {\r\n      "id": "urn:ngsi-ld:RoadAccident:001",\r\n      "severity": "serious",\r\n      "location": { "latitude": 10.77, "longitude": 106.70 },\r\n      "elapsedTime": "45 minutes",\r\n      "estimatedClearTime": "30 minutes"\r\n    }\r\n  ],\r\n  "meta": {\r\n    "activeCount": 3,\r\n    "timestamp": "2025-01-15T10:30:00.000Z"\r\n  }\r\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"get-apiaccidentsarea",children:"GET /api/accidents/area"}),"\n",(0,r.jsx)(n.p,{children:"Get accidents within a geographic area."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"lat"})}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Center latitude"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"lon"})}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Center longitude"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"radius"})}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Radius in km (default: 5)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": true,\r\n  "data": [\r\n    {\r\n      "id": "urn:ngsi-ld:RoadAccident:001",\r\n      "distance": 1.5,\r\n      "severity": "serious",\r\n      "location": { "latitude": 10.77, "longitude": 106.70 }\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"get-apiaccidentsrelationships",children:["GET /api/accidents/",":id","/relationships"]}),"\n",(0,r.jsx)(n.p,{children:"Get related entities from Neo4j graph database."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": true,\r\n  "data": {\r\n    "accidentId": "urn:ngsi-ld:RoadAccident:001",\r\n    "relationships": [\r\n      {\r\n        "type": "NEAR_TO",\r\n        "entity": "urn:ngsi-ld:Camera:nearby-001",\r\n        "entityType": "Camera",\r\n        "distance": 150\r\n      },\r\n      {\r\n        "type": "OCCURRED_DURING",\r\n        "entity": "urn:ngsi-ld:WeatherObserved:001",\r\n        "entityType": "Weather",\r\n        "conditions": "rainy"\r\n      },\r\n      {\r\n        "type": "LOCATED_ON",\r\n        "entity": "urn:ngsi-ld:RoadSegment:nguyen-hue",\r\n        "entityType": "RoadSegment"\r\n      }\r\n    ]\r\n  }\r\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"accident-types",children:"Accident Types"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"collision"})}),(0,r.jsx)(n.td,{children:"Vehicle collision"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pedestrian"})}),(0,r.jsx)(n.td,{children:"Pedestrian involved"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rollover"})}),(0,r.jsx)(n.td,{children:"Vehicle rollover"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hit_and_run"})}),(0,r.jsx)(n.td,{children:"Hit and run incident"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"debris"})}),(0,r.jsx)(n.td,{children:"Road debris/hazard"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"other"})}),(0,r.jsx)(n.td,{children:"Other incidents"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"severity-levels",children:"Severity Levels"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Level"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Response Time"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"minor"})}),(0,r.jsx)(n.td,{children:"No injuries, minor damage"}),(0,r.jsx)(n.td,{children:"Standard"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"moderate"})}),(0,r.jsx)(n.td,{children:"Minor injuries"}),(0,r.jsx)(n.td,{children:"Priority"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"serious"})}),(0,r.jsx)(n.td,{children:"Multiple injuries"}),(0,r.jsx)(n.td,{children:"Urgent"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"critical"})}),(0,r.jsx)(n.td,{children:"Fatalities or mass casualties"}),(0,r.jsx)(n.td,{children:"Emergency"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/tes/docs/backend/services/neo4j-service",children:"Neo4jService"})," - Graph relationships"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/tes/docs/backend/agents/GraphInvestigatorAgent",children:"GraphInvestigatorAgent"})," - Incident analysis"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/tes/docs/backend/routes/correlation-routes",children:"Correlation Routes"})," - Entity correlations"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://smart-data-models.github.io/dataModel.Transportation/RoadAccident/",children:"NGSI-LD RoadAccident"})}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>c});var s=i(6540);const r={},t=s.createContext(r);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);