"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[4435],{1333:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"frontend/components/CitizenReportForm","title":"CitizenReportForm","description":"\x3c!--","source":"@site/docs/frontend/components/CitizenReportForm.md","sourceDirName":"frontend/components","slug":"/frontend/components/CitizenReportForm","permalink":"/tes/docs/frontend/components/CitizenReportForm","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/frontend/components/CitizenReportForm.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"AnalyticsDashboard","permalink":"/tes/docs/frontend/components/AnalyticsDashboard"},"next":{"title":"complete-api-reference","permalink":"/tes/docs/api/complete-api-reference"}}');var i=t(4848),r=t(8453);const a={},s="CitizenReportForm Component",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Props",id:"props",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"With Location",id:"with-location",level:3},{value:"Component Structure",id:"component-structure",level:2},{value:"Form Fields",id:"form-fields",level:2},{value:"Category Selection",id:"category-selection",level:3},{value:"Photo Upload",id:"photo-upload",level:3},{value:"Location Picker",id:"location-picker",level:3},{value:"Validation",id:"validation",level:2},{value:"Integration Examples",id:"integration-examples",level:2},{value:"With Map",id:"with-map",level:3},{value:"With Success Modal",id:"with-success-modal",level:3},{value:"Styling",id:"styling",level:2},{value:"Related Components",id:"related-components",level:2},{value:"License",id:"license",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"citizenreportform-component",children:"CitizenReportForm Component"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The CitizenReportForm allows users to submit traffic reports with photos, descriptions, and location data, enabling citizen-powered traffic intelligence."}),"\n",(0,i.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Photo Upload"}),": Camera or file upload with preview"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Location Detection"}),": Auto-detect GPS location or manual pin"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Category Selection"}),": Accident, congestion, hazard, etc."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Text Description"}),": Rich text editor for details"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Validation"}),": Client-side validation before submission"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Real-time Feedback"}),": Submission status and confirmation"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"props",children:"Props"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface CitizenReportFormProps {\n  onSubmit?: (report: CitizenReport) => void;\n  defaultLocation?: [number, number];\n  enableCamera?: boolean;\n  maxPhotos?: number;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import CitizenReportForm from '@/components/CitizenReportForm';\n\nexport default function ReportPage() {\n  const handleSubmit = (report) => {\n    console.log('Report submitted:', report);\n  };\n  \n  return (\n    <CitizenReportForm\n      onSubmit={handleSubmit}\n      enableCamera={true}\n      maxPhotos={3}\n    />\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"with-location",children:"With Location"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"<CitizenReportForm\n  defaultLocation={[10.7769, 106.7009]}\n  onSubmit={handleSubmit}\n/>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"component-structure",children:"Component Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const CitizenReportForm: React.FC<CitizenReportFormProps> = ({\n  onSubmit,\n  defaultLocation,\n  enableCamera = true,\n  maxPhotos = 3\n}) => {\n  const [formData, setFormData] = useState({\n    category: '',\n    description: '',\n    location: defaultLocation || null,\n    photos: []\n  });\n  \n  const handlePhotoUpload = (files: File[]) => {\n    // Upload logic\n  };\n  \n  const handleLocationSelect = (coords: [number, number]) => {\n    setFormData(prev => ({ ...prev, location: coords }));\n  };\n  \n  const handleSubmit = async () => {\n    const result = await submitReport(formData);\n    onSubmit?.(result);\n  };\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <CategorySelect value={formData.category} onChange={...} />\n      <LocationPicker value={formData.location} onChange={handleLocationSelect} />\n      <PhotoUpload max={maxPhotos} onChange={handlePhotoUpload} />\n      <TextArea value={formData.description} onChange={...} />\n      <Button type=\"submit\">Submit Report</Button>\n    </form>\n  );\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"form-fields",children:"Form Fields"}),"\n",(0,i.jsx)(n.h3,{id:"category-selection",children:"Category Selection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"<Select\n  label=\"Report Type\"\n  options={[\n    { value: 'accident', label: 'Accident' },\n    { value: 'congestion', label: 'Traffic Jam' },\n    { value: 'hazard', label: 'Road Hazard' },\n    { value: 'construction', label: 'Construction' },\n    { value: 'other', label: 'Other' }\n  ]}\n/>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"photo-upload",children:"Photo Upload"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'<PhotoUpload\n  max={3}\n  accept="image/*"\n  onUpload={handlePhotoUpload}\n  enableCamera={true}\n/>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"location-picker",children:"Location Picker"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"<LocationPicker\n  defaultLocation={[10.7769, 106.7009]}\n  onLocationChange={handleLocationSelect}\n  enableGPS={true}\n/>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"validation",children:"Validation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const validateForm = (data: FormData): ValidationResult => {\n  const errors: string[] = [];\n  \n  if (!data.category) errors.push('Category is required');\n  if (!data.location) errors.push('Location is required');\n  if (data.description.length < 10) errors.push('Description too short');\n  if (data.photos.length === 0) errors.push('At least one photo required');\n  \n  return {\n    isValid: errors.length === 0,\n    errors\n  };\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,i.jsx)(n.h3,{id:"with-map",children:"With Map"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'<div className="report-container">\n  <CitizenReportMap onLocationSelect={setLocation} />\n  <CitizenReportForm defaultLocation={location} />\n</div>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"with-success-modal",children:"With Success Modal"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'const [showSuccess, setShowSuccess] = useState(false);\n\nconst handleSubmit = async (report) => {\n  await submitReport(report);\n  setShowSuccess(true);\n};\n\nreturn (\n  <>\n    <CitizenReportForm onSubmit={handleSubmit} />\n    {showSuccess && (\n      <SuccessModal\n        title="Report Submitted"\n        message="Thank you for your report!"\n        onClose={() => setShowSuccess(false)}\n      />\n    )}\n  </>\n);\n'})}),"\n",(0,i.jsx)(n.h2,{id:"styling",children:"Styling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".citizen-report-form {\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 24px;\n}\n\n.photo-preview {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 12px;\n}\n\n.submit-button {\n  width: 100%;\n  padding: 12px;\n  background: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"related-components",children:"Related Components"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/tes/docs/frontend/components/CitizenReportMap",children:"CitizenReportMap"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"./LocationPicker.md",children:"LocationPicker"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"./PhotoUpload.md",children:"PhotoUpload"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,i.jsx)(n.p,{children:"MIT License - Copyright (c) 2025 UIP Contributors (Nguy\u1ec5n Nh\u1eadt Quang, Nguy\u1ec5n Vi\u1ec7t Ho\xe0ng, Nguy\u1ec5n \u0110\xecnh Anh Tu\u1ea5n)"})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var o=t(6540);const i={},r=o.createContext(i);function a(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);