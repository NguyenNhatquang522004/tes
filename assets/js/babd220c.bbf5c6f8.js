"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[5905],{6955:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"frontend/components/TrafficMap","title":"TrafficMap","description":"\x3c!--","source":"@site/docs/frontend/components/TrafficMap.md","sourceDirName":"frontend/components","slug":"/frontend/components/TrafficMap","permalink":"/tes/docs/frontend/components/TrafficMap","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/frontend/components/TrafficMap.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"complete-components-reference","permalink":"/tes/docs/frontend/complete-components-reference"},"next":{"title":"AnalyticsDashboard","permalink":"/tes/docs/frontend/components/AnalyticsDashboard"}}');var t=a(4848),i=a(8453);const s={},o="TrafficMap Component",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Props",id:"props",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"With All Layers",id:"with-all-layers",level:3},{value:"Custom Styling",id:"custom-styling",level:3},{value:"Component Structure",id:"component-structure",level:2},{value:"Integration Examples",id:"integration-examples",level:2},{value:"With FilterPanel",id:"with-filterpanel",level:3},{value:"With TimeMachine",id:"with-timemachine",level:3},{value:"Styling",id:"styling",level:2},{value:"Performance",id:"performance",level:2},{value:"Related Components",id:"related-components",level:2},{value:"License",id:"license",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"trafficmap-component",children:"TrafficMap Component"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The TrafficMap component is the core visualization component displaying real-time traffic conditions, camera feeds, accidents, congestion zones, and weather overlays on an interactive Leaflet map."}),"\n",(0,t.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Interactive Map"}),": Leaflet-based map with pan, zoom, and layer controls"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Real-time Updates"}),": WebSocket-powered live traffic data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multiple Layers"}),": Traffic flow, accidents, cameras, weather, air quality"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Camera Markers"}),": Clickable camera icons with live image popups"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Heatmaps"}),": Traffic density and speed heatmaps"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Zone Management"}),": Congestion zones with color coding"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Responsive"}),": Mobile-friendly design"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mermaid",children:"graph TB\n    A[TrafficMap] --\x3e B[Leaflet Map]\n    B --\x3e C[Base Layers]\n    B --\x3e D[Overlay Layers]\n    D --\x3e E[Camera Markers]\n    D --\x3e F[Accident Markers]\n    D --\x3e G[Congestion Zones]\n    D --\x3e H[Weather Overlay]\n    D --\x3e I[AQI Heatmap]\n    A --\x3e J[WebSocket Client]\n    J --\x3e K[Real-time Updates]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"props",children:"Props"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface TrafficMapProps {\n  center?: [number, number];        // Map center [lat, lon]\n  zoom?: number;                     // Initial zoom level\n  height?: string;                   // Map height\n  showCameras?: boolean;             // Show camera markers\n  showAccidents?: boolean;           // Show accident markers\n  showCongestion?: boolean;          // Show congestion zones\n  showWeather?: boolean;             // Show weather overlay\n  showAQI?: boolean;                 // Show air quality\n  enableClustering?: boolean;        // Enable marker clustering\n  onCameraClick?: (cameraId: string) => void;\n  onAccidentClick?: (accidentId: string) => void;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import TrafficMap from '@/components/TrafficMap';\n\nexport default function HomePage() {\n  return (\n    <TrafficMap\n      center={[10.7769, 106.7009]}\n      zoom={13}\n      height=\"600px\"\n      showCameras={true}\n      showAccidents={true}\n    />\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"with-all-layers",children:"With All Layers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"<TrafficMap\n  center={[10.7769, 106.7009]}\n  zoom={13}\n  height=\"100vh\"\n  showCameras={true}\n  showAccidents={true}\n  showCongestion={true}\n  showWeather={true}\n  showAQI={true}\n  enableClustering={true}\n  onCameraClick={(id) => console.log('Camera:', id)}\n  onAccidentClick={(id) => console.log('Accident:', id)}\n/>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"custom-styling",children:"Custom Styling"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"<TrafficMap\n  center={[10.7769, 106.7009]}\n  zoom={13}\n  height=\"800px\"\n  style={{\n    borderRadius: '8px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n  }}\n/>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"component-structure",children:"Component Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const TrafficMap: React.FC<TrafficMapProps> = ({\n  center = [10.7769, 106.7009],\n  zoom = 13,\n  height = '600px',\n  showCameras = true,\n  showAccidents = true,\n  showCongestion = false,\n  showWeather = false,\n  showAQI = false,\n  enableClustering = false,\n  onCameraClick,\n  onAccidentClick\n}) => {\n  // WebSocket connection\n  const { cameras, accidents, congestionZones } = useWebSocket();\n  \n  // Map state\n  const [map, setMap] = useState<L.Map | null>(null);\n  \n  return (\n    <MapContainer\n      center={center}\n      zoom={zoom}\n      style={{ height }}\n    >\n      <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n      \n      {showCameras && (\n        <CameraMarkers cameras={cameras} onClick={onCameraClick} />\n      )}\n      \n      {showAccidents && (\n        <AccidentMarkers accidents={accidents} onClick={onAccidentClick} />\n      )}\n      \n      {showCongestion && (\n        <CongestionZones zones={congestionZones} />\n      )}\n      \n      {showWeather && <WeatherOverlay />}\n      \n      {showAQI && <AQIHeatmap />}\n      \n      <MapLegend />\n    </MapContainer>\n  );\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,t.jsx)(n.h3,{id:"with-filterpanel",children:"With FilterPanel"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const [filters, setFilters] = useState({\n  showCameras: true,\n  showAccidents: true,\n  showCongestion: false\n});\n\nreturn (\n  <div>\n    <FilterPanel filters={filters} onChange={setFilters} />\n    <TrafficMap {...filters} />\n  </div>\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"with-timemachine",children:"With TimeMachine"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const [timestamp, setTimestamp] = useState<Date>(new Date());\n\nreturn (\n  <div>\n    <TimeMachine value={timestamp} onChange={setTimestamp} />\n    <TrafficMap timestamp={timestamp} />\n  </div>\n);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"styling",children:"Styling"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:".traffic-map {\n  width: 100%;\n  height: 600px;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.leaflet-container {\n  background: #f5f5f5;\n}\n\n.camera-marker {\n  color: #1976d2;\n}\n\n.accident-marker {\n  color: #d32f2f;\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.5; }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Marker clustering for 50+ markers"}),"\n",(0,t.jsx)(n.li,{children:"Virtualized rendering"}),"\n",(0,t.jsx)(n.li,{children:"Debounced map events"}),"\n",(0,t.jsx)(n.li,{children:"Optimized re-renders"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"related-components",children:"Related Components"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"./CameraMarkers.md",children:"CameraMarkers"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/tes/docs/frontend/components/AccidentMarkers",children:"AccidentMarkers"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/tes/docs/frontend/components/WeatherOverlay",children:"WeatherOverlay"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/tes/docs/frontend/components/MapLegend",children:"MapLegend"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,t.jsx)(n.p,{children:"MIT License - Copyright (c) 2025 UIP Contributors (Nguy\u1ec5n Nh\u1eadt Quang, Nguy\u1ec5n Vi\u1ec7t Ho\xe0ng, Nguy\u1ec5n \u0110\xecnh Anh Tu\u1ea5n)"})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>o});var r=a(6540);const t={},i=r.createContext(t);function s(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);