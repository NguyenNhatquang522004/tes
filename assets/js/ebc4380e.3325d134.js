"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[99],{4100:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"agents/analytics/citizen-report","title":"citizen-report","description":"\x3c!--","source":"@site/docs/agents/analytics/citizen-report.md","sourceDirName":"agents/analytics","slug":"/agents/analytics/citizen-report","permalink":"/tes/docs/agents/analytics/citizen-report","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/analytics/citizen-report.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"pattern-recognition","permalink":"/tes/docs/agents/analytics/pattern-recognition"},"next":{"title":"camera-image-fetch","permalink":"/tes/docs/agents/data-collection/camera-image-fetch"}}');var r=i(4848),s=i(8453);const a={},o="Citizen Report Agent",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Report Submission",id:"basic-report-submission",level:3},{value:"Report Validation",id:"report-validation",level:3},{value:"Image Analysis",id:"image-analysis",level:3},{value:"Query Reports",id:"query-reports",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Class: <code>CitizenIngestionAgent</code>",id:"class-citizeningestionagent",level:3},{value:"Methods",id:"methods",level:4},{value:"<code>submit_report(user_id: str, description: str, location: dict, image_path: str = None, category: str = None) -&gt; CitizenReport</code>",id:"submit_reportuser_id-str-description-str-location-dict-image_path-str--none-category-str--none---citizenreport",level:5},{value:"<code>validate_report(description: str, image: bytes, location: dict) -&gt; ValidationResult</code>",id:"validate_reportdescription-str-image-bytes-location-dict---validationresult",level:5},{value:"<code>analyze_citizen_image(image_path: str) -&gt; ImageAnalysis</code>",id:"analyze_citizen_imageimage_path-str---imageanalysis",level:5},{value:"<code>get_reports_in_area(lat: float, lon: float, radius_km: float, time_window: str) -&gt; List[CitizenReport]</code>",id:"get_reports_in_arealat-float-lon-float-radius_km-float-time_window-str---listcitizenreport",level:5},{value:"<code>update_report_status(report_id: str, status: str, resolution: str = None)</code>",id:"update_report_statusreport_id-str-status-str-resolution-str--none",level:5},{value:"Data Models",id:"data-models",level:3},{value:"<code>CitizenReport</code>",id:"citizenreport",level:4},{value:"<code>ValidationResult</code>",id:"validationresult",level:4},{value:"<code>ImageAnalysis</code>",id:"imageanalysis",level:4},{value:"Report Categories",id:"report-categories",level:2},{value:"Priority Classification",id:"priority-classification",level:2},{value:"Automatic Priority Assignment",id:"automatic-priority-assignment",level:3},{value:"Priority Levels",id:"priority-levels",level:3},{value:"Integration Examples",id:"integration-examples",level:2},{value:"Integration with Accident Detection",id:"integration-with-accident-detection",level:3},{value:"Integration with Alert Dispatcher",id:"integration-with-alert-dispatcher",level:3},{value:"Integration with Pattern Recognition",id:"integration-with-pattern-recognition",level:3},{value:"Monitoring &amp; Metrics",id:"monitoring--metrics",level:2},{value:"Health Check",id:"health-check",level:3},{value:"Report Statistics",id:"report-statistics",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Batch Processing",id:"batch-processing",level:3},{value:"Image Compression",id:"image-compression",level:3},{value:"Caching",id:"caching",level:3},{value:"Testing",id:"testing",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Spam Prevention",id:"1-spam-prevention",level:3},{value:"2. User Feedback",id:"2-user-feedback",level:3},{value:"3. Data Privacy",id:"3-data-privacy",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Issue: Low Verification Rate",id:"issue-low-verification-rate",level:3},{value:"Issue: Slow Image Processing",id:"issue-slow-image-processing",level:3},{value:"Issue: Duplicate Reports",id:"issue-duplicate-reports",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"License",id:"license",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"citizen-report-agent",children:"Citizen Report Agent"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The Citizen Report Agent processes user-submitted traffic reports, validates submissions, enriches data with AI analysis, and integrates citizen intelligence into the traffic management system for improved situational awareness."}),"\n",(0,r.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Report Submission"}),": Accept photos, videos, and text descriptions from citizens"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"AI Validation"}),": Automatic verification using computer vision and NLP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Image Analysis"}),": Extract traffic conditions from citizen photos"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Geolocation"}),": Precise location tagging and verification"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Priority Classification"}),": Categorize reports by urgency and impact"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Feedback Loop"}),": Notify citizens about report status and actions taken"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph TB\n    A[Citizen Mobile App] --\x3e B[API Gateway]\n    B --\x3e C[Citizen Report Agent]\n    C --\x3e D[Image Validator]\n    C --\x3e E[NLP Analyzer]\n    D --\x3e F[YOLOX CV Model]\n    E --\x3e G[Sentiment Analysis]\n    F --\x3e H{Valid Report?}\n    G --\x3e H\n    H --\x3e|Yes| I[Priority Classifier]\n    H --\x3e|No| J[Rejection Handler]\n    I --\x3e K[Geo Enrichment]\n    K --\x3e L[NGSI-LD Publisher]\n    L --\x3e M[Stellio Context Broker]\n    I --\x3e N[Alert Dispatcher]\n    C --\x3e O[MongoDB Storage]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File"}),": ",(0,r.jsx)(n.code,{children:"config/agents.yaml"})," (citizen_ingestion section)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'citizen_ingestion:\n  validation:\n    require_image: true\n    require_location: true\n    min_description_length: 10\n    max_description_length: 500\n    \n  image_processing:\n    max_file_size: 10485760      # 10MB\n    allowed_formats: ["jpg", "jpeg", "png"]\n    min_resolution: [640, 480]\n    cv_analysis: true\n    \n  priority_rules:\n    critical:\n      keywords: ["accident", "fire", "blocked", "emergency"]\n      response_time: 5            # minutes\n      \n    high:\n      keywords: ["congestion", "heavy traffic", "jam"]\n      response_time: 15\n      \n    medium:\n      keywords: ["slow", "moderate", "construction"]\n      response_time: 30\n      \n    low:\n      keywords: ["light traffic", "normal", "clear"]\n      response_time: 60\n      \n  geolocation:\n    validation_radius: 100        # meters\n    geocoding_service: "nominatim"\n    reverse_geocode: true\n    \n  moderation:\n    spam_detection: true\n    profanity_filter: true\n    duplicate_detection: true\n    duplicate_threshold: 0.85\n    \n  feedback:\n    auto_reply: true\n    status_updates: true\n    notification_methods: ["push", "email"]\n'})}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.h3,{id:"basic-report-submission",children:"Basic Report Submission"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from src.agents.ingestion.citizen_ingestion_agent import CitizenIngestionAgent\n\n# Initialize agent\nagent = CitizenIngestionAgent()\n\n# Submit citizen report\nreport = agent.submit_report(\n    user_id="user_12345",\n    description="Heavy traffic jam on Nguyen Hue Boulevard",\n    location={"lat": 10.7769, "lon": 106.7009},\n    image_path="traffic_photo.jpg",\n    category="congestion"\n)\n\nprint(f"Report ID: {report.id}")\nprint(f"Status: {report.status}")\nprint(f"Priority: {report.priority}")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"report-validation",children:"Report Validation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Validate report before processing\nvalidation = agent.validate_report(\n    description="Accident near Ben Thanh Market",\n    image=image_data,\n    location={"lat": 10.7723, "lon": 106.6980}\n)\n\nif validation.is_valid:\n    print("Report validated successfully")\n    print(f"Confidence: {validation.confidence}")\nelse:\n    print(f"Validation failed: {validation.reason}")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"image-analysis",children:"Image Analysis"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Analyze citizen-submitted image\nanalysis = agent.analyze_citizen_image(\n    image_path="citizen_photo.jpg"\n)\n\nprint(f"Detected Objects: {analysis.objects}")\nprint(f"Traffic Condition: {analysis.traffic_condition}")\nprint(f"Vehicle Count: {analysis.vehicle_count}")\nprint(f"Congestion Level: {analysis.congestion_level}")\nprint(f"Confidence: {analysis.confidence}")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"query-reports",children:"Query Reports"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Get recent reports in area\nreports = agent.get_reports_in_area(\n    lat=10.7769,\n    lon=106.7009,\n    radius_km=2,\n    time_window="1h"\n)\n\nfor report in reports:\n    print(f"{report.category}: {report.description}")\n    print(f"  Location: {report.location}")\n    print(f"  Time: {report.timestamp}")\n    print(f"  Verified: {report.verified}")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,r.jsxs)(n.h3,{id:"class-citizeningestionagent",children:["Class: ",(0,r.jsx)(n.code,{children:"CitizenIngestionAgent"})]}),"\n",(0,r.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h5,{id:"submit_reportuser_id-str-description-str-location-dict-image_path-str--none-category-str--none---citizenreport",children:(0,r.jsx)(n.code,{children:"submit_report(user_id: str, description: str, location: dict, image_path: str = None, category: str = None) -> CitizenReport"})}),"\n",(0,r.jsx)(n.p,{children:"Submit a new citizen report."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user_id"})," (str): User identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"description"})," (str): Text description of traffic condition"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"location"})," (dict): Geographic coordinates ",(0,r.jsx)(n.code,{children:"{lat, lon}"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"image_path"})," (str, optional): Path to image file"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"category"})," (str, optional): Report category"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CitizenReport: Submitted report with ID and status"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'report = agent.submit_report(\n    user_id="user_123",\n    description="Heavy congestion",\n    location={"lat": 10.7769, "lon": 106.7009},\n    image_path="photo.jpg"\n)\n'})}),"\n",(0,r.jsx)(n.h5,{id:"validate_reportdescription-str-image-bytes-location-dict---validationresult",children:(0,r.jsx)(n.code,{children:"validate_report(description: str, image: bytes, location: dict) -> ValidationResult"})}),"\n",(0,r.jsx)(n.p,{children:"Validate report before acceptance."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"description"})," (str): Report description"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"image"})," (bytes): Image data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"location"})," (dict): Coordinates"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ValidationResult: Validation outcome"}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"analyze_citizen_imageimage_path-str---imageanalysis",children:(0,r.jsx)(n.code,{children:"analyze_citizen_image(image_path: str) -> ImageAnalysis"})}),"\n",(0,r.jsx)(n.p,{children:"Analyze citizen-submitted image using CV."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"image_path"})," (str): Path to image file"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ImageAnalysis: CV analysis results"}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"get_reports_in_arealat-float-lon-float-radius_km-float-time_window-str---listcitizenreport",children:(0,r.jsx)(n.code,{children:"get_reports_in_area(lat: float, lon: float, radius_km: float, time_window: str) -> List[CitizenReport]"})}),"\n",(0,r.jsx)(n.p,{children:"Retrieve reports within geographic area."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"lat"})," (float): Latitude"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"lon"})," (float): Longitude"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"radius_km"})," (float): Search radius"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"time_window"}),' (str): Time filter (e.g., "1h", "24h")']}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"List[CitizenReport]: Matching reports"}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"update_report_statusreport_id-str-status-str-resolution-str--none",children:(0,r.jsx)(n.code,{children:"update_report_status(report_id: str, status: str, resolution: str = None)"})}),"\n",(0,r.jsx)(n.p,{children:"Update report status and notify user."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"report_id"})," (str): Report identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"status"})," (str): New status (received, verified, resolved, rejected)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"resolution"})," (str, optional): Resolution description"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'agent.update_report_status(\n    report_id="CR_001",\n    status="resolved",\n    resolution="Traffic cleared by police"\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"data-models",children:"Data Models"}),"\n",(0,r.jsx)(n.h4,{id:"citizenreport",children:(0,r.jsx)(n.code,{children:"CitizenReport"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"@dataclass\nclass CitizenReport:\n    id: str\n    user_id: str\n    timestamp: datetime\n    description: str\n    location: dict                 # {lat, lon, address}\n    image_url: str\n    category: str                  # congestion, accident, hazard, etc.\n    priority: str                  # critical, high, medium, low\n    status: str                    # received, verified, in_progress, resolved\n    verification_score: float      # 0.0-1.0\n    votes: int                     # Community votes\n    resolved_at: datetime\n    resolution: str\n"})}),"\n",(0,r.jsx)(n.h4,{id:"validationresult",children:(0,r.jsx)(n.code,{children:"ValidationResult"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"@dataclass\nclass ValidationResult:\n    is_valid: bool\n    confidence: float              # 0.0-1.0\n    reason: str\n    checks: dict                   # Individual check results\n    suggested_category: str\n    priority: str\n"})}),"\n",(0,r.jsx)(n.h4,{id:"imageanalysis",children:(0,r.jsx)(n.code,{children:"ImageAnalysis"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"@dataclass\nclass ImageAnalysis:\n    timestamp: datetime\n    objects: List[str]             # Detected objects\n    vehicle_count: int\n    traffic_condition: str         # clear, moderate, congested, gridlock\n    congestion_level: str\n    confidence: float\n    weather_condition: str\n    time_of_day: str\n    quality_score: float\n"})}),"\n",(0,r.jsx)(n.h2,{id:"report-categories",children:"Report Categories"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Category"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Example Keywords"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Congestion"}),(0,r.jsx)(n.td,{children:"Traffic jams, slow traffic"}),(0,r.jsx)(n.td,{children:"jam, congestion, slow, stuck"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Accident"}),(0,r.jsx)(n.td,{children:"Vehicle collisions"}),(0,r.jsx)(n.td,{children:"accident, crash, collision"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Hazard"}),(0,r.jsx)(n.td,{children:"Road hazards, debris"}),(0,r.jsx)(n.td,{children:"debris, pothole, hazard, danger"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Construction"}),(0,r.jsx)(n.td,{children:"Road work, construction"}),(0,r.jsx)(n.td,{children:"construction, roadwork, closed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Weather"}),(0,r.jsx)(n.td,{children:"Weather-related issues"}),(0,r.jsx)(n.td,{children:"flood, rain, visibility"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Parking"}),(0,r.jsx)(n.td,{children:"Illegal parking"}),(0,r.jsx)(n.td,{children:"parking, blocked"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Other"}),(0,r.jsx)(n.td,{children:"Miscellaneous"}),(0,r.jsx)(n.td,{children:"other, general"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"priority-classification",children:"Priority Classification"}),"\n",(0,r.jsx)(n.h3,{id:"automatic-priority-assignment",children:"Automatic Priority Assignment"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Priority determined by multiple factors\npriority = agent.calculate_priority(\n    category="accident",\n    severity_keywords=["emergency", "injured"],\n    image_analysis=analysis,\n    location_impact="high_traffic_area"\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"priority-levels",children:"Priority Levels"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Priority"}),(0,r.jsx)(n.th,{children:"Response Time"}),(0,r.jsx)(n.th,{children:"Criteria"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Critical"}),(0,r.jsx)(n.td,{children:"5 minutes"}),(0,r.jsx)(n.td,{children:"Accidents, emergencies, blockages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"High"}),(0,r.jsx)(n.td,{children:"15 minutes"}),(0,r.jsx)(n.td,{children:"Heavy congestion, hazards"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Medium"}),(0,r.jsx)(n.td,{children:"30 minutes"}),(0,r.jsx)(n.td,{children:"Moderate traffic, construction"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Low"}),(0,r.jsx)(n.td,{children:"60 minutes"}),(0,r.jsx)(n.td,{children:"Light traffic, general info"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,r.jsx)(n.h3,{id:"integration-with-accident-detection",children:"Integration with Accident Detection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from src.agents.analytics.accident_detection_agent import AccidentDetectionAgent\n\ncitizen_agent = CitizenIngestionAgent()\naccident_agent = AccidentDetectionAgent()\n\n# Cross-validate citizen reports with camera detection\ndef verify_accident_report(report):\n    # Find nearby cameras\n    nearby_cameras = get_cameras_near(report.location, radius=0.5)\n    \n    # Check for accident detection\n    for camera in nearby_cameras:\n        detection = accident_agent.detect_accident(\n            camera_id=camera.id,\n            frame=camera.get_current_frame()\n        )\n        \n        if detection.accident_detected:\n            # Confirm citizen report\n            citizen_agent.update_report_status(\n                report_id=report.id,\n                status="verified",\n                verification_score=0.95\n            )\n            return True\n    \n    return False\n'})}),"\n",(0,r.jsx)(n.h3,{id:"integration-with-alert-dispatcher",children:"Integration with Alert Dispatcher"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from src.agents.notification.alert_dispatcher_agent import AlertDispatcherAgent\n\nalert_agent = AlertDispatcherAgent()\n\n# Dispatch alerts for verified critical reports\ndef handle_critical_report(report):\n    if report.priority == "critical" and report.verification_score > 0.8:\n        alert_agent.dispatch_alert(\n            type="CITIZEN_REPORT_CRITICAL",\n            location=report.location,\n            description=report.description,\n            image_url=report.image_url,\n            priority="high"\n        )\n'})}),"\n",(0,r.jsx)(n.h3,{id:"integration-with-pattern-recognition",children:"Integration with Pattern Recognition"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from src.agents.analytics.pattern_recognition_agent import PatternRecognitionAgent\n\npattern_agent = PatternRecognitionAgent()\n\n# Analyze citizen report patterns\npatterns = pattern_agent.analyze_report_patterns(\n    time_range="30d",\n    category="congestion"\n)\n\nprint(f"Hotspots from citizen reports: {patterns.hotspots}")\nprint(f"Peak reporting times: {patterns.peak_hours}")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"monitoring--metrics",children:"Monitoring & Metrics"}),"\n",(0,r.jsx)(n.h3,{id:"health-check",children:"Health Check"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'health = agent.health_check()\nprint(f"Status: {health.status}")\nprint(f"Reports Processed Today: {health.reports_today}")\nprint(f"Verification Rate: {health.verification_rate}%")\nprint(f"Average Processing Time: {health.avg_processing_time}s")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"report-statistics",children:"Report Statistics"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'stats = agent.get_statistics(time_range="7d")\n\nprint(f"Total Reports: {stats.total_reports}")\nprint(f"Verified Reports: {stats.verified_count}")\nprint(f"Category Breakdown: {stats.category_distribution}")\nprint(f"Average Response Time: {stats.avg_response_time}min")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"batch-processing",children:"Batch Processing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Process multiple reports concurrently\nagent.configure_batch_processing(\n    batch_size=10,\n    parallel_workers=4\n)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"image-compression",children:"Image Compression"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Compress images for faster processing\nagent.configure_image_processing(\n    compression_quality=85,\n    max_dimension=1920\n)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"caching",children:"Caching"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Cache validation results\nagent.enable_caching(\n    validation_cache_ttl=3600,\n    analysis_cache_ttl=1800\n)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,r.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import pytest\n\ndef test_report_validation():\n    agent = CitizenIngestionAgent()\n    \n    # Valid report\n    result = agent.validate_report(\n        description="Heavy traffic on main street",\n        image=valid_image,\n        location={"lat": 10.7769, "lon": 106.7009}\n    )\n    assert result.is_valid == True\n    \n    # Invalid report (too short)\n    result = agent.validate_report(\n        description="bad",\n        image=valid_image,\n        location={"lat": 10.7769, "lon": 106.7009}\n    )\n    assert result.is_valid == False\n\ndef test_image_analysis():\n    agent = CitizenIngestionAgent()\n    \n    analysis = agent.analyze_citizen_image("test_traffic.jpg")\n    assert analysis.vehicle_count >= 0\n    assert analysis.traffic_condition in ["clear", "moderate", "congested", "gridlock"]\n'})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"1-spam-prevention",children:"1. Spam Prevention"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Enable comprehensive spam detection\nagent.configure_moderation(\n    spam_detection=True,\n    duplicate_threshold=0.85,\n    rate_limiting={"max_reports_per_hour": 5}\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-user-feedback",children:"2. User Feedback"}),"\n",(0,r.jsx)(n.p,{children:"Always provide feedback to users:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"agent.configure_feedback(\n    auto_reply=True,\n    status_updates=True,\n    resolution_notification=True\n)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-data-privacy",children:"3. Data Privacy"}),"\n",(0,r.jsx)(n.p,{children:"Anonymize sensitive data:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"agent.enable_privacy_protection(\n    anonymize_user_data=True,\n    blur_faces=True,\n    blur_license_plates=True\n)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"issue-low-verification-rate",children:"Issue: Low Verification Rate"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Adjust validation thresholds"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"agent.configure_validation(\n    min_confidence=0.6,\n    require_image=False  # Make image optional\n)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"issue-slow-image-processing",children:"Issue: Slow Image Processing"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Enable GPU and reduce image size"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'agent.configure_cv_processing(\n    device="cuda",\n    image_resize=(640, 480)\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"issue-duplicate-reports",children:"Issue: Duplicate Reports"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Increase duplicate detection sensitivity"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"agent.configure_moderation(\n    duplicate_threshold=0.75,\n    time_window=300  # 5 minutes\n)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/tes/docs/agents/analytics/accident-detection",children:"Accident Detection Agent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/tes/docs/agents/notification/alert-dispatcher",children:"Alert Dispatcher Agent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"../../frontend/components/citizen-report-form.md",children:"Citizen Report Form Component"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,r.jsx)(n.p,{children:"MIT License - Copyright (c) 2025 UIP Contributors (Nguy\u1ec5n Nh\u1eadt Quang, Nguy\u1ec5n Vi\u1ec7t Ho\xe0ng, Nguy\u1ec5n \u0110\xecnh Anh Tu\u1ea5n)"}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"../LICENSE",children:"LICENSE"})," for details."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(6540);const r={},s=t.createContext(r);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);