"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[787],{3820:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"agents/analytics/congestion-detection","title":"congestion-detection","description":"\x3c!--","source":"@site/docs/agents/analytics/congestion-detection.md","sourceDirName":"agents/analytics","slug":"/agents/analytics/congestion-detection","permalink":"/tes/vi/docs/agents/analytics/congestion-detection","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/analytics/congestion-detection.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"accident-detection","permalink":"/tes/vi/docs/agents/analytics/accident-detection"},"next":{"title":"cv-analysis","permalink":"/tes/vi/docs/agents/analytics/cv-analysis"}}');var s=t(4848),o=t(8453);const a={},l="Congestion Detection Agent",c={},r=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Multi-Zone Monitoring",id:"multi-zone-monitoring",level:3},{value:"Impact Assessment",id:"impact-assessment",level:3},{value:"Predictive Congestion",id:"predictive-congestion",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Class: <code>CongestionDetectionAgent</code>",id:"class-congestiondetectionagent",level:3},{value:"Methods",id:"methods",level:4},{value:"<code>get_congestion_level(zone_id: str) -&gt; CongestionStatus</code>",id:"get_congestion_levelzone_id-str---congestionstatus",level:5},{value:"<code>get_all_zones_status() -&gt; List[CongestionStatus]</code>",id:"get_all_zones_status---listcongestionstatus",level:5},{value:"<code>assess_impact(zone_id: str, baseline_speed: float, current_speed: float) -&gt; ImpactAssessment</code>",id:"assess_impactzone_id-str-baseline_speed-float-current_speed-float---impactassessment",level:5},{value:"<code>predict_congestion(zone_id: str, minutes_ahead: int) -&gt; CongestionPrediction</code>",id:"predict_congestionzone_id-str-minutes_ahead-int---congestionprediction",level:5},{value:"<code>calculate_congestion_index(zone_id: str) -&gt; float</code>",id:"calculate_congestion_indexzone_id-str---float",level:5},{value:"Data Models",id:"data-models",level:3},{value:"<code>CongestionStatus</code>",id:"congestionstatus",level:4},{value:"<code>ImpactAssessment</code>",id:"impactassessment",level:4},{value:"<code>CongestionPrediction</code>",id:"congestionprediction",level:4},{value:"Congestion Levels",id:"congestion-levels",level:2},{value:"Classification Criteria",id:"classification-criteria",level:3},{value:"Congestion Index Calculation",id:"congestion-index-calculation",level:3},{value:"Integration Examples",id:"integration-examples",level:2},{value:"Integration with Route Planner",id:"integration-with-route-planner",level:3},{value:"Integration with Pattern Recognition",id:"integration-with-pattern-recognition",level:3},{value:"Integration with Alert Dispatcher",id:"integration-with-alert-dispatcher",level:3},{value:"Monitoring &amp; Metrics",id:"monitoring--metrics",level:2},{value:"Health Check",id:"health-check",level:3},{value:"Performance Metrics",id:"performance-metrics",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Zone Caching",id:"zone-caching",level:3},{value:"Parallel Zone Processing",id:"parallel-zone-processing",level:3},{value:"Adaptive Update Intervals",id:"adaptive-update-intervals",level:3},{value:"Testing",id:"testing",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Dynamic Thresholds",id:"1-dynamic-thresholds",level:3},{value:"2. Historical Baseline",id:"2-historical-baseline",level:3},{value:"3. Weather-Adjusted Classification",id:"3-weather-adjusted-classification",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Issue: Frequent Level Fluctuations",id:"issue-frequent-level-fluctuations",level:3},{value:"Issue: Delayed Detection",id:"issue-delayed-detection",level:3},{value:"Issue: Inaccurate Predictions",id:"issue-inaccurate-predictions",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"License",id:"license",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"congestion-detection-agent",children:"Congestion Detection Agent"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"The Congestion Detection Agent monitors traffic flow in real-time, classifies congestion levels across zones, calculates impact metrics, and provides actionable intelligence for traffic management and route optimization."}),"\n",(0,s.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Real-time Monitoring"}),": Continuous traffic flow analysis across 50+ zones"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"5-Level Classification"}),": Free-flow, light, moderate, heavy, gridlock"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Zone Management"}),": Geographic zone-based congestion tracking"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Impact Assessment"}),": Calculate congestion effects on travel time and emissions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Predictive Alerts"}),": Forecast congestion before it occurs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Historical Trends"}),": Long-term congestion pattern analysis"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph TB\n    A[Camera Feeds] --\x3e B[Vehicle Counter]\n    C[Speed Sensors] --\x3e B\n    B --\x3e D[Flow Calculator]\n    D --\x3e E[Congestion Classifier]\n    E --\x3e F{Congestion Level}\n    F --\x3e|Free-Flow| G[Normal Monitoring]\n    F --\x3e|Light/Moderate| H[Pattern Tracker]\n    F --\x3e|Heavy/Gridlock| I[Alert Generator]\n    I --\x3e J[Traffic Controller]\n    I --\x3e K[Route Planner]\n    E --\x3e L[MongoDB Storage]\n    L --\x3e M[Analytics Dashboard]\n"})}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File"}),": ",(0,s.jsx)(n.code,{children:"config/congestion_config.yaml"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'congestion_detection:\n  zones:\n    - id: "ZONE_D1_CENTRAL"\n      name: "District 1 Central"\n      polygon: [[10.7769, 106.7009], [10.7800, 106.7050], ...]\n      capacity: 500  # vehicles per hour\n      speed_limit: 40  # km/h\n      \n  classification_thresholds:\n    free_flow:\n      speed_range: [35, 40]      # km/h\n      density_max: 15            # vehicles per km\n      flow_range: [400, 500]     # vehicles per hour\n      \n    light:\n      speed_range: [25, 35]\n      density_max: 30\n      flow_range: [300, 400]\n      \n    moderate:\n      speed_range: [15, 25]\n      density_max: 50\n      flow_range: [200, 300]\n      \n    heavy:\n      speed_range: [5, 15]\n      density_max: 80\n      flow_range: [100, 200]\n      \n    gridlock:\n      speed_range: [0, 5]\n      density_max: 120\n      flow_range: [0, 100]\n      \n  metrics:\n    calculation_interval: 60     # seconds\n    smoothing_window: 300        # 5 minutes\n    \n  alerts:\n    moderate_threshold: 15       # minutes duration\n    heavy_threshold: 5\n    gridlock_threshold: 1\n    \n  prediction:\n    enabled: true\n    look_ahead: 30               # minutes\n    confidence_threshold: 0.75\n'})}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from src.agents.analytics.congestion_detection_agent import CongestionDetectionAgent\n\n# Initialize agent\nagent = CongestionDetectionAgent()\n\n# Get current congestion\ncongestion = agent.get_congestion_level(\n    zone_id="ZONE_D1_CENTRAL"\n)\n\nprint(f"Zone: {congestion.zone_name}")\nprint(f"Level: {congestion.level}")\nprint(f"Average Speed: {congestion.avg_speed} km/h")\nprint(f"Vehicle Density: {congestion.density} veh/km")\nprint(f"Flow Rate: {congestion.flow_rate} veh/h")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"multi-zone-monitoring",children:"Multi-Zone Monitoring"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Monitor all zones\nall_zones = agent.get_all_zones_status()\n\nfor zone_status in all_zones:\n    print(f"{zone_status.zone_name}: {zone_status.level}")\n    if zone_status.level in ["heavy", "gridlock"]:\n        print(f"  \u26a0\ufe0f Alert: {zone_status.duration}min")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"impact-assessment",children:"Impact Assessment"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Calculate congestion impact\nimpact = agent.assess_impact(\n    zone_id="ZONE_D1_CENTRAL",\n    baseline_speed=40,\n    current_speed=12\n)\n\nprint(f"Travel Time Increase: {impact.time_increase_pct}%")\nprint(f"Delay per Vehicle: {impact.delay_minutes}min")\nprint(f"Economic Cost: ${impact.economic_cost}")\nprint(f"CO2 Emissions Increase: {impact.emissions_increase}kg")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"predictive-congestion",children:"Predictive Congestion"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Predict congestion 30 minutes ahead\nprediction = agent.predict_congestion(\n    zone_id="ZONE_D1_CENTRAL",\n    minutes_ahead=30\n)\n\nprint(f"Predicted Level: {prediction.level}")\nprint(f"Confidence: {prediction.confidence}")\nprint(f"Time to Congestion: {prediction.time_to_congestion}min")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,s.jsxs)(n.h3,{id:"class-congestiondetectionagent",children:["Class: ",(0,s.jsx)(n.code,{children:"CongestionDetectionAgent"})]}),"\n",(0,s.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h5,{id:"get_congestion_levelzone_id-str---congestionstatus",children:(0,s.jsx)(n.code,{children:"get_congestion_level(zone_id: str) -> CongestionStatus"})}),"\n",(0,s.jsx)(n.p,{children:"Get current congestion status for a zone."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"zone_id"})," (str): Zone identifier"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"CongestionStatus: Current congestion information"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'status = agent.get_congestion_level("ZONE_D1_CENTRAL")\nprint(f"Level: {status.level}, Speed: {status.avg_speed} km/h")\n'})}),"\n",(0,s.jsx)(n.h5,{id:"get_all_zones_status---listcongestionstatus",children:(0,s.jsx)(n.code,{children:"get_all_zones_status() -> List[CongestionStatus]"})}),"\n",(0,s.jsx)(n.p,{children:"Get congestion status for all monitored zones."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"List[CongestionStatus]: Status of all zones"}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"assess_impactzone_id-str-baseline_speed-float-current_speed-float---impactassessment",children:(0,s.jsx)(n.code,{children:"assess_impact(zone_id: str, baseline_speed: float, current_speed: float) -> ImpactAssessment"})}),"\n",(0,s.jsx)(n.p,{children:"Calculate congestion impact metrics."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"zone_id"})," (str): Zone identifier"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"baseline_speed"})," (float): Normal speed (km/h)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"current_speed"})," (float): Current speed (km/h)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ImpactAssessment: Impact metrics"}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"predict_congestionzone_id-str-minutes_ahead-int---congestionprediction",children:(0,s.jsx)(n.code,{children:"predict_congestion(zone_id: str, minutes_ahead: int) -> CongestionPrediction"})}),"\n",(0,s.jsx)(n.p,{children:"Predict future congestion levels."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"zone_id"})," (str): Zone identifier"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"minutes_ahead"})," (int): Prediction horizon (5-60 minutes)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"CongestionPrediction: Predicted congestion"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'prediction = agent.predict_congestion("ZONE_D1_CENTRAL", 30)\nif prediction.level == "heavy":\n    print("Heavy congestion expected in 30 minutes")\n'})}),"\n",(0,s.jsx)(n.h5,{id:"calculate_congestion_indexzone_id-str---float",children:(0,s.jsx)(n.code,{children:"calculate_congestion_index(zone_id: str) -> float"})}),"\n",(0,s.jsx)(n.p,{children:"Calculate composite congestion index (0-100)."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"zone_id"})," (str): Zone identifier"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"float: Congestion index (0=free-flow, 100=gridlock)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'index = agent.calculate_congestion_index("ZONE_D1_CENTRAL")\nprint(f"Congestion Index: {index}/100")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"data-models",children:"Data Models"}),"\n",(0,s.jsx)(n.h4,{id:"congestionstatus",children:(0,s.jsx)(n.code,{children:"CongestionStatus"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"@dataclass\nclass CongestionStatus:\n    timestamp: datetime\n    zone_id: str\n    zone_name: str\n    level: str                     # free_flow, light, moderate, heavy, gridlock\n    avg_speed: float               # km/h\n    density: float                 # vehicles per km\n    flow_rate: int                 # vehicles per hour\n    vehicle_count: int\n    duration: int                  # minutes in current level\n    trend: str                     # improving, stable, worsening\n    congestion_index: float        # 0-100\n"})}),"\n",(0,s.jsx)(n.h4,{id:"impactassessment",children:(0,s.jsx)(n.code,{children:"ImpactAssessment"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"@dataclass\nclass ImpactAssessment:\n    zone_id: str\n    time_increase_pct: float       # % increase in travel time\n    delay_minutes: float           # average delay per vehicle\n    affected_vehicles: int\n    economic_cost: float           # USD\n    emissions_increase: float      # kg CO2\n    fuel_waste: float              # liters\n    productivity_loss: float       # USD\n"})}),"\n",(0,s.jsx)(n.h4,{id:"congestionprediction",children:(0,s.jsx)(n.code,{children:"CongestionPrediction"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"@dataclass\nclass CongestionPrediction:\n    timestamp: datetime\n    zone_id: str\n    minutes_ahead: int\n    predicted_level: str\n    confidence: float              # 0.0-1.0\n    time_to_congestion: int        # minutes (if not congested)\n    predicted_speed: float         # km/h\n    predicted_density: float       # vehicles per km\n    contributing_factors: List[str]\n"})}),"\n",(0,s.jsx)(n.h2,{id:"congestion-levels",children:"Congestion Levels"}),"\n",(0,s.jsx)(n.h3,{id:"classification-criteria",children:"Classification Criteria"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Level"}),(0,s.jsx)(n.th,{children:"Speed (km/h)"}),(0,s.jsx)(n.th,{children:"Density (veh/km)"}),(0,s.jsx)(n.th,{children:"Flow (veh/h)"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Free-Flow"}),(0,s.jsx)(n.td,{children:"35-40"}),(0,s.jsx)(n.td,{children:"<15"}),(0,s.jsx)(n.td,{children:"400-500"}),(0,s.jsx)(n.td,{children:"Smooth traffic flow"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Light"}),(0,s.jsx)(n.td,{children:"25-35"}),(0,s.jsx)(n.td,{children:"15-30"}),(0,s.jsx)(n.td,{children:"300-400"}),(0,s.jsx)(n.td,{children:"Minor delays"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Moderate"}),(0,s.jsx)(n.td,{children:"15-25"}),(0,s.jsx)(n.td,{children:"30-50"}),(0,s.jsx)(n.td,{children:"200-300"}),(0,s.jsx)(n.td,{children:"Noticeable congestion"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Heavy"}),(0,s.jsx)(n.td,{children:"5-15"}),(0,s.jsx)(n.td,{children:"50-80"}),(0,s.jsx)(n.td,{children:"100-200"}),(0,s.jsx)(n.td,{children:"Significant delays"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Gridlock"}),(0,s.jsx)(n.td,{children:"0-5"}),(0,s.jsx)(n.td,{children:">80"}),(0,s.jsx)(n.td,{children:"<100"}),(0,s.jsx)(n.td,{children:"Severe congestion"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"congestion-index-calculation",children:"Congestion Index Calculation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Composite index formula\nindex = agent.calculate_congestion_index(zone_id)\n\n# Index components:\n# - Speed factor: (speed_limit - current_speed) / speed_limit * 40\n# - Density factor: (current_density / max_density) * 30\n# - Flow factor: (capacity - current_flow) / capacity * 30\n"})}),"\n",(0,s.jsx)(n.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,s.jsx)(n.h3,{id:"integration-with-route-planner",children:"Integration with Route Planner"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from src.components.RoutePlanner import RoutePlanner\n\ncongestion_agent = CongestionDetectionAgent()\nroute_planner = RoutePlanner()\n\ndef get_fastest_route(origin, destination):\n    # Get congestion for all zones\n    all_zones = congestion_agent.get_all_zones_status()\n    \n    # Filter congested zones\n    avoid_zones = [\n        z.zone_id for z in all_zones\n        if z.level in ["heavy", "gridlock"]\n    ]\n    \n    # Calculate route avoiding congestion\n    route = route_planner.calculate_route(\n        origin=origin,\n        destination=destination,\n        avoid_zones=avoid_zones\n    )\n    \n    return route\n'})}),"\n",(0,s.jsx)(n.h3,{id:"integration-with-pattern-recognition",children:"Integration with Pattern Recognition"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from src.agents.analytics.pattern_recognition_agent import PatternRecognitionAgent\n\npattern_agent = PatternRecognitionAgent()\n\n# Analyze congestion patterns\npatterns = pattern_agent.detect_patterns(\n    metric_type="congestion",\n    time_range="30d"\n)\n\n# Identify peak congestion times\npeak_times = [\n    p for p in patterns\n    if p.type == "daily" and p.characteristics["avg_level"] == "heavy"\n]\n'})}),"\n",(0,s.jsx)(n.h3,{id:"integration-with-alert-dispatcher",children:"Integration with Alert Dispatcher"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from src.agents.notification.alert_dispatcher_agent import AlertDispatcherAgent\n\nalert_agent = AlertDispatcherAgent()\n\n# Monitor and alert on congestion\ndef monitor_congestion():\n    agent = CongestionDetectionAgent()\n    \n    while True:\n        zones = agent.get_all_zones_status()\n        \n        for zone in zones:\n            if zone.level == "heavy" and zone.duration >= 10:\n                alert_agent.dispatch_alert(\n                    type="CONGESTION_HEAVY",\n                    zone=zone.zone_name,\n                    duration=zone.duration,\n                    impact=agent.assess_impact(zone.zone_id)\n                )\n        \n        time.sleep(60)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"monitoring--metrics",children:"Monitoring & Metrics"}),"\n",(0,s.jsx)(n.h3,{id:"health-check",children:"Health Check"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'health = agent.health_check()\nprint(f"Status: {health.status}")\nprint(f"Zones Monitored: {health.active_zones}")\nprint(f"Data Freshness: {health.data_age_seconds}s")\nprint(f"Congested Zones: {health.congested_zones_count}")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"performance-metrics",children:"Performance Metrics"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'metrics = agent.get_metrics(time_range="24h")\n\nprint(f"Average Congestion Index: {metrics.avg_congestion_index}")\nprint(f"Peak Congestion Time: {metrics.peak_time}")\nprint(f"Total Vehicle-Hours Lost: {metrics.total_delay_hours}")\nprint(f"Economic Impact: ${metrics.total_economic_cost}")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsx)(n.h3,{id:"zone-caching",children:"Zone Caching"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Cache zone status for fast access\nagent.configure_caching(\n    zone_status_ttl=30,    # seconds\n    metrics_ttl=60\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"parallel-zone-processing",children:"Parallel Zone Processing"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Process multiple zones concurrently\nagent.configure_parallel_processing(\n    num_workers=8,\n    batch_size=10\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"adaptive-update-intervals",children:"Adaptive Update Intervals"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Update more frequently during congestion\nagent.configure_adaptive_updates(\n    normal_interval=60,      # seconds\n    congested_interval=15\n)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,s.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import pytest\n\ndef test_congestion_classification():\n    agent = CongestionDetectionAgent()\n    \n    # Test free-flow classification\n    status = agent.classify_congestion(\n        speed=38,\n        density=12,\n        flow=450\n    )\n    assert status.level == "free_flow"\n    \n    # Test heavy congestion\n    status = agent.classify_congestion(\n        speed=8,\n        density=65,\n        flow=150\n    )\n    assert status.level == "heavy"\n\ndef test_impact_calculation():\n    agent = CongestionDetectionAgent()\n    \n    impact = agent.assess_impact(\n        zone_id="TEST_ZONE",\n        baseline_speed=40,\n        current_speed=10\n    )\n    \n    assert impact.time_increase_pct > 0\n    assert impact.delay_minutes > 0\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-dynamic-thresholds",children:"1. Dynamic Thresholds"}),"\n",(0,s.jsx)(n.p,{children:"Adjust thresholds based on zone characteristics:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'agent.set_zone_thresholds(\n    zone_id="HIGHWAY_ZONE",\n    thresholds={\n        "free_flow": {"speed_range": [80, 100]},\n        "heavy": {"speed_range": [20, 40]}\n    }\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-historical-baseline",children:"2. Historical Baseline"}),"\n",(0,s.jsx)(n.p,{children:"Use historical data for better classification:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'agent.use_historical_baseline(\n    time_range="90d",\n    percentile=85\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-weather-adjusted-classification",children:"3. Weather-Adjusted Classification"}),"\n",(0,s.jsx)(n.p,{children:"Factor in weather conditions:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'status = agent.get_congestion_level(\n    zone_id="ZONE_D1",\n    weather_adjusted=True\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"issue-frequent-level-fluctuations",children:"Issue: Frequent Level Fluctuations"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Increase smoothing window"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"agent.configure_smoothing(window_seconds=600)  # 10 minutes\n"})}),"\n",(0,s.jsx)(n.h3,{id:"issue-delayed-detection",children:"Issue: Delayed Detection"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Reduce calculation interval"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"agent.configure_monitoring(interval_seconds=30)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"issue-inaccurate-predictions",children:"Issue: Inaccurate Predictions"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Retrain prediction model with more data"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"agent.retrain_prediction_model(\n    training_days=90,\n    include_weather=True,\n    include_events=True\n)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/tes/vi/docs/agents/analytics/pattern-recognition",children:"Pattern Recognition Agent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../../frontend/components/route-planner.md",children:"Route Planner Component"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/tes/vi/docs/agents/notification/alert-dispatcher",children:"Alert Dispatcher Agent"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,s.jsx)(n.p,{children:"MIT License - Copyright (c) 2025 UIP Contributors (Nguy\u1ec5n Nh\u1eadt Quang, Nguy\u1ec5n Vi\u1ec7t Ho\xe0ng, Nguy\u1ec5n \u0110\xecnh Anh Tu\u1ea5n)"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"../LICENSE",children:"LICENSE"})," for details."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var i=t(6540);const s={},o=i.createContext(s);function a(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);