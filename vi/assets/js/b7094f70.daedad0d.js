"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[5876],{3984:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"agents/ingestion/citizen-ingestion","title":"citizen-ingestion","description":"\x3c!--","source":"@site/docs/agents/ingestion/citizen-ingestion.md","sourceDirName":"agents/ingestion","slug":"/agents/ingestion/citizen-ingestion","permalink":"/tes/vi/docs/agents/ingestion/citizen-ingestion","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/ingestion/citizen-ingestion.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"data-quality-validator","permalink":"/tes/vi/docs/agents/monitoring/data-quality-validator"},"next":{"title":"api-gateway","permalink":"/tes/vi/docs/agents/integration/api-gateway"}}');var r=i(4848),s=i(8453);const a={sidebar_position:1},o="Citizen Ingestion Agent",d={},l=[{value:"\ud83d\udccb Overview",id:"-overview",level:2},{value:"\ud83c\udfaf Purpose",id:"-purpose",level:2},{value:"\ud83d\udcca Report Types",id:"-report-types",level:2},{value:"\ud83d\ude80 Usage",id:"-usage",level:2},{value:"Ingest Report",id:"ingest-report",level:3},{value:"Validate Report",id:"validate-report",level:3},{value:"Get Report Status",id:"get-report-status",level:3},{value:"\u2699\ufe0f Configuration",id:"\ufe0f-configuration",level:2},{value:"\ud83d\udd04 Processing Pipeline",id:"-processing-pipeline",level:2},{value:"\ud83d\udcd6 Related Documentation",id:"-related-documentation",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"citizen-ingestion-agent",children:"Citizen Ingestion Agent"})}),"\n",(0,r.jsx)(n.p,{children:"The Citizen Ingestion Agent processes citizen-reported incidents and integrates them into the platform."}),"\n",(0,r.jsx)(n.h2,{id:"-overview",children:"\ud83d\udccb Overview"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Value"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Module"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src.agents.ingestion.citizen_ingestion_agent"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Class"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CitizenIngestionAgent"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Author"})}),(0,r.jsx)(n.td,{children:"UIP Team"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Version"})}),(0,r.jsx)(n.td,{children:"1.0.0"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"-purpose",children:"\ud83c\udfaf Purpose"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Ingest citizen reports"})," from mobile apps and web portals"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validate and geocode"})," report locations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Classify incident types"})," automatically"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Correlate with sensor data"})," for verification"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-report-types",children:"\ud83d\udcca Report Types"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Priority"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"accident"})}),(0,r.jsx)(n.td,{children:"Traffic accident"}),(0,r.jsx)(n.td,{children:"High"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"congestion"})}),(0,r.jsx)(n.td,{children:"Traffic jam"}),(0,r.jsx)(n.td,{children:"Medium"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hazard"})}),(0,r.jsx)(n.td,{children:"Road hazard"}),(0,r.jsx)(n.td,{children:"High"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"roadwork"})}),(0,r.jsx)(n.td,{children:"Construction"}),(0,r.jsx)(n.td,{children:"Low"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"flooding"})}),(0,r.jsx)(n.td,{children:"Water on road"}),(0,r.jsx)(n.td,{children:"High"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"other"})}),(0,r.jsx)(n.td,{children:"Miscellaneous"}),(0,r.jsx)(n.td,{children:"Low"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"-usage",children:"\ud83d\ude80 Usage"}),"\n",(0,r.jsx)(n.h3,{id:"ingest-report",children:"Ingest Report"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from src.agents.ingestion.citizen_ingestion_agent import CitizenIngestionAgent\r\n\r\nagent = CitizenIngestionAgent()\r\n\r\n# Ingest citizen report\r\nreport = await agent.ingest({\r\n    "reporter_id": "USER_12345",\r\n    "type": "accident",\r\n    "description": "Two-car collision at intersection",\r\n    "location": {\r\n        "lat": 10.8231,\r\n        "lon": 106.6297,\r\n        "address": "Nguyen Hue Street"\r\n    },\r\n    "photos": ["base64_image_data"],\r\n    "timestamp": "2025-01-15T10:30:00Z"\r\n})\n'})}),"\n",(0,r.jsx)(n.h3,{id:"validate-report",children:"Validate Report"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Validate against sensor data\r\nvalidation = await agent.validate(report["id"])\r\n# {\r\n#     "valid": True,\r\n#     "confidence": 0.85,\r\n#     "correlated_cameras": ["CAM_001", "CAM_002"],\r\n#     "sensor_confirmation": True\r\n# }\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-report-status",children:"Get Report Status"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Track report processing status\r\nstatus = await agent.get_status(report["id"])\r\n# {\r\n#     "id": "RPT_001",\r\n#     "status": "verified",\r\n#     "processing_time_ms": 1234,\r\n#     "actions_taken": ["alert_dispatched", "camera_analyzed"]\r\n# }\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-configuration",children:"\u2699\ufe0f Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# config/citizen_ingestion.yaml\r\ncitizen_ingestion:\r\n  enabled: true\r\n  \r\n  # Validation settings\r\n  validation:\r\n    require_location: true\r\n    require_photo: false\r\n    max_age_minutes: 60\r\n    geocoding:\r\n      enabled: true\r\n      provider: "nominatim"\r\n  \r\n  # Classification\r\n  classification:\r\n    model: "text-classification-v1"\r\n    confidence_threshold: 0.7\r\n  \r\n  # Correlation\r\n  correlation:\r\n    camera_radius_km: 1.0\r\n    sensor_timeout_seconds: 30\r\n  \r\n  # Rate limiting (per user)\r\n  rate_limit:\r\n    max_reports_per_hour: 10\r\n    cooldown_seconds: 60\n'})}),"\n",(0,r.jsx)(n.h2,{id:"-processing-pipeline",children:"\ud83d\udd04 Processing Pipeline"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph LR\r\n    A[Citizen Report] --\x3e B[Validation]\r\n    B --\x3e C[Geocoding]\r\n    C --\x3e D[Classification]\r\n    D --\x3e E[Correlation]\r\n    E --\x3e F[Publish to Stellio]\r\n    F --\x3e G[Trigger Alerts]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"-related-documentation",children:"\ud83d\udcd6 Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../analytics/accident-detection",children:"Accident Detection"})," - Accident verification"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../notification/alert-dispatcher",children:"Alert Dispatcher"})," - Alert generation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../transformation/ngsi-ld-transformer",children:"NGSI-LD Transformer"})," - Entity format"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.a,{href:"../complete-agents-reference",children:"complete agents reference"})," for all available agents."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(6540);const r={},s=t.createContext(r);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);