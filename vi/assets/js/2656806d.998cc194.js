"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[9372],{2993:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"agents/state-management/temporal-state-tracker","title":"temporal-state-tracker","description":"\x3c!--","source":"@site/docs/agents/state-management/temporal-state-tracker.md","sourceDirName":"agents/state-management","slug":"/agents/state-management/temporal-state-tracker","permalink":"/tes/vi/docs/agents/state-management/temporal-state-tracker","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/state-management/temporal-state-tracker.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"congestion-state-manager","permalink":"/tes/vi/docs/agents/state-management/congestion-state-manager"},"next":{"title":"cache-manager","permalink":"/tes/vi/docs/agents/cache/cache-manager"}}');var a=n(4848),i=n(8453);const s={sidebar_position:4},l="Temporal State Tracker Agent",c={},d=[{value:"\ud83d\udccb Overview",id:"-overview",level:2},{value:"\ud83c\udfaf Purpose",id:"-purpose",level:2},{value:"\ud83d\ude80 Usage",id:"-usage",level:2},{value:"Initialize Tracker",id:"initialize-tracker",level:3},{value:"Query Historical States",id:"query-historical-states",level:3},{value:"Temporal Aggregations",id:"temporal-aggregations",level:3},{value:"\u2699\ufe0f Configuration",id:"\ufe0f-configuration",level:2},{value:"\ud83d\udcca NGSI-LD Temporal Format",id:"-ngsi-ld-temporal-format",level:2},{value:"Temporal Entity Representation",id:"temporal-entity-representation",level:3},{value:"Temporal Query Parameters",id:"temporal-query-parameters",level:3},{value:"\ud83d\udcc8 Analytics Queries",id:"-analytics-queries",level:2},{value:"Time-Based Analysis",id:"time-based-analysis",level:3},{value:"\ud83d\udcd6 Related Documentation",id:"-related-documentation",level:2}];function o(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"temporal-state-tracker-agent",children:"Temporal State Tracker Agent"})}),"\n",(0,a.jsx)(r.p,{children:"The Temporal State Tracker Agent maintains time-series state data with NGSI-LD temporal compliance."}),"\n",(0,a.jsx)(r.h2,{id:"-overview",children:"\ud83d\udccb Overview"}),"\n",(0,a.jsxs)(r.table,{children:[(0,a.jsx)(r.thead,{children:(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.th,{children:"Property"}),(0,a.jsx)(r.th,{children:"Value"})]})}),(0,a.jsxs)(r.tbody,{children:[(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.strong,{children:"Module"})}),(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"src.agents.state_management.temporal_state_tracker_agent"})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.strong,{children:"Class"})}),(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"TemporalStateTrackerAgent"})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.strong,{children:"Author"})}),(0,a.jsx)(r.td,{children:"UIP Team"})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.strong,{children:"Version"})}),(0,a.jsx)(r.td,{children:"1.0.0"})]})]})]}),"\n",(0,a.jsx)(r.h2,{id:"-purpose",children:"\ud83c\udfaf Purpose"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Track state history"})," with precise timestamps"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Maintain NGSI-LD temporal"})," representations"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Enable time-travel queries"})," for historical analysis"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Support temporal aggregations"})," and analytics"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"-usage",children:"\ud83d\ude80 Usage"}),"\n",(0,a.jsx)(r.h3,{id:"initialize-tracker",children:"Initialize Tracker"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'from src.agents.state_management.temporal_state_tracker_agent import TemporalStateTrackerAgent\r\n\r\ntracker = TemporalStateTrackerAgent()\r\n\r\n# Record state change\r\ntracker.record_state(\r\n    entity_id="urn:ngsi-ld:TrafficCamera:CAM_001",\r\n    attribute="status",\r\n    value="active",\r\n    observed_at="2025-01-15T10:30:00Z"\r\n)\n'})}),"\n",(0,a.jsx)(r.h3,{id:"query-historical-states",children:"Query Historical States"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'# Get state at specific time\r\nstate = tracker.get_state_at(\r\n    entity_id="urn:ngsi-ld:TrafficCamera:CAM_001",\r\n    timestamp="2025-01-15T10:00:00Z"\r\n)\r\n\r\n# Get state history\r\nhistory = tracker.get_history(\r\n    entity_id="urn:ngsi-ld:TrafficCamera:CAM_001",\r\n    attribute="vehicleCount",\r\n    start_time="2025-01-15T00:00:00Z",\r\n    end_time="2025-01-15T23:59:59Z"\r\n)\n'})}),"\n",(0,a.jsx)(r.h3,{id:"temporal-aggregations",children:"Temporal Aggregations"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'# Aggregate by time interval\r\naggregated = tracker.aggregate(\r\n    entity_id="urn:ngsi-ld:TrafficCamera:CAM_001",\r\n    attribute="vehicleCount",\r\n    interval="1h",\r\n    aggregation="avg",\r\n    time_range="24h"\r\n)\r\n\r\n# Result: hourly averages\r\n# [\r\n#     {"time": "2025-01-15T00:00:00Z", "value": 45.2},\r\n#     {"time": "2025-01-15T01:00:00Z", "value": 23.8},\r\n#     ...\r\n# ]\n'})}),"\n",(0,a.jsx)(r.h2,{id:"\ufe0f-configuration",children:"\u2699\ufe0f Configuration"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:'# config/temporal_config.yaml\r\ntemporal_state_tracker:\r\n  enabled: true\r\n  \r\n  # Storage settings\r\n  storage:\r\n    backend: "timescaledb"  # timescaledb, mongodb, stellio\r\n    retention_days: 365\r\n    compression: true\r\n  \r\n  # Resolution settings\r\n  resolution:\r\n    default: "1m"  # 1 minute\r\n    min: "1s"\r\n    max: "1h"\r\n  \r\n  # Aggregation presets\r\n  aggregations:\r\n    - interval: "5m"\r\n      functions: ["avg", "min", "max"]\r\n    - interval: "1h"\r\n      functions: ["avg", "min", "max", "sum", "count"]\r\n    - interval: "1d"\r\n      functions: ["avg", "min", "max", "sum", "count"]\n'})}),"\n",(0,a.jsx)(r.h2,{id:"-ngsi-ld-temporal-format",children:"\ud83d\udcca NGSI-LD Temporal Format"}),"\n",(0,a.jsx)(r.h3,{id:"temporal-entity-representation",children:"Temporal Entity Representation"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",children:'{\r\n  "id": "urn:ngsi-ld:TrafficCamera:CAM_001",\r\n  "type": "TrafficCamera",\r\n  "vehicleCount": [\r\n    {\r\n      "type": "Property",\r\n      "value": 42,\r\n      "observedAt": "2025-01-15T10:30:00Z"\r\n    },\r\n    {\r\n      "type": "Property",\r\n      "value": 45,\r\n      "observedAt": "2025-01-15T10:31:00Z"\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"temporal-query-parameters",children:"Temporal Query Parameters"}),"\n",(0,a.jsxs)(r.table,{children:[(0,a.jsx)(r.thead,{children:(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.th,{children:"Parameter"}),(0,a.jsx)(r.th,{children:"Description"}),(0,a.jsx)(r.th,{children:"Example"})]})}),(0,a.jsxs)(r.tbody,{children:[(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"timerel"})}),(0,a.jsx)(r.td,{children:"Temporal relation"}),(0,a.jsxs)(r.td,{children:[(0,a.jsx)(r.code,{children:"before"}),", ",(0,a.jsx)(r.code,{children:"after"}),", ",(0,a.jsx)(r.code,{children:"between"})]})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"timeAt"})}),(0,a.jsx)(r.td,{children:"Reference time"}),(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"2025-01-15T10:00:00Z"})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"endTimeAt"})}),(0,a.jsxs)(r.td,{children:["End time for ",(0,a.jsx)(r.code,{children:"between"})]}),(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"2025-01-15T12:00:00Z"})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"timeproperty"})}),(0,a.jsx)(r.td,{children:"Property to use"}),(0,a.jsxs)(r.td,{children:[(0,a.jsx)(r.code,{children:"observedAt"}),", ",(0,a.jsx)(r.code,{children:"createdAt"})]})]})]})]}),"\n",(0,a.jsx)(r.h2,{id:"-analytics-queries",children:"\ud83d\udcc8 Analytics Queries"}),"\n",(0,a.jsx)(r.h3,{id:"time-based-analysis",children:"Time-Based Analysis"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'# Peak hour detection\r\npeak_hours = tracker.find_peaks(\r\n    entity_type="TrafficCamera",\r\n    attribute="vehicleCount",\r\n    time_range="7d",\r\n    top_n=5\r\n)\r\n\r\n# Trend analysis\r\ntrend = tracker.analyze_trend(\r\n    entity_id="urn:ngsi-ld:TrafficCamera:CAM_001",\r\n    attribute="vehicleCount",\r\n    time_range="30d"\r\n)\r\n# {"direction": "increasing", "rate": 2.3, "confidence": 0.85}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"-related-documentation",children:"\ud83d\udcd6 Related Documentation"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"../transformation/ngsi-ld-transformer",children:"NGSI-LD Transformer"})," - Entity transformation"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"../context-management/temporal-data-manager",children:"Temporal Data Manager"})," - Stellio temporal"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"state-manager",children:"State Manager"})," - Core state management"]}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsxs)(r.p,{children:["See the ",(0,a.jsx)(r.a,{href:"../complete-agents-reference",children:"complete agents reference"})," for all available agents."]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>l});var t=n(6540);const a={},i=t.createContext(a);function s(e){const r=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);