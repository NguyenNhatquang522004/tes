"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[289],{5155:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"agents/integration/api-gateway","title":"api-gateway","description":"\x3c!--","source":"@site/docs/agents/integration/api-gateway.md","sourceDirName":"agents/integration","slug":"/agents/integration/api-gateway","permalink":"/tes/vi/docs/agents/integration/api-gateway","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/agents/integration/api-gateway.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"citizen-ingestion","permalink":"/tes/vi/docs/agents/ingestion/citizen-ingestion"},"next":{"title":"alert-dispatcher","permalink":"/tes/vi/docs/agents/notification/alert-dispatcher"}}');var i=t(4848),a=t(8453);const s={sidebar_position:1},l="API Gateway Agent",c={},d=[{value:"\ud83d\udccb Overview",id:"-overview",level:2},{value:"\ud83c\udfaf Purpose",id:"-purpose",level:2},{value:"\ud83d\ude80 Usage",id:"-usage",level:2},{value:"Initialize Gateway",id:"initialize-gateway",level:3},{value:"Register Routes",id:"register-routes",level:3},{value:"Authentication",id:"authentication",level:3},{value:"\u2699\ufe0f Configuration",id:"\ufe0f-configuration",level:2},{value:"\ud83d\udcca Endpoints",id:"-endpoints",level:2},{value:"\ud83d\udcd6 Related Documentation",id:"-related-documentation",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"api-gateway-agent",children:"API Gateway Agent"})}),"\n",(0,i.jsx)(n.p,{children:"The API Gateway Agent provides unified API access with authentication, rate limiting, and routing."}),"\n",(0,i.jsx)(n.h2,{id:"-overview",children:"\ud83d\udccb Overview"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Module"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"src.agents.integration.api_gateway_agent"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Class"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"APIGatewayAgent"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Author"})}),(0,i.jsx)(n.td,{children:"UIP Team"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Version"})}),(0,i.jsx)(n.td,{children:"1.0.0"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"-purpose",children:"\ud83c\udfaf Purpose"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Unified API endpoint"})," for all platform services"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Authentication and authorization"})," management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rate limiting"})," per client/endpoint"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request routing"})," to appropriate services"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-usage",children:"\ud83d\ude80 Usage"}),"\n",(0,i.jsx)(n.h3,{id:"initialize-gateway",children:"Initialize Gateway"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from src.agents.integration.api_gateway_agent import APIGatewayAgent\r\n\r\ngateway = APIGatewayAgent()\r\n\r\n# Start gateway\r\nawait gateway.start(port=8080)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"register-routes",children:"Register Routes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Register service routes\r\ngateway.register_route(\r\n    path="/api/v1/cameras",\r\n    service="camera-service",\r\n    methods=["GET", "POST"]\r\n)\r\n\r\ngateway.register_route(\r\n    path="/api/v1/analytics",\r\n    service="analytics-service",\r\n    methods=["GET"],\r\n    rate_limit="100/minute"\r\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Validate request\r\nresult = await gateway.authenticate(request)\r\n# {\r\n#     "valid": True,\r\n#     "user_id": "USER_001",\r\n#     "roles": ["viewer", "reporter"],\r\n#     "rate_limit_remaining": 95\r\n# }\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-configuration",children:"\u2699\ufe0f Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# config/api_gateway_config.yaml\r\napi_gateway:\r\n  enabled: true\r\n  port: 8080\r\n  \r\n  # Authentication\r\n  auth:\r\n    type: "jwt"\r\n    secret: "${JWT_SECRET}"\r\n    expiry_hours: 24\r\n    \r\n  # Rate limiting\r\n  rate_limiting:\r\n    enabled: true\r\n    default: "1000/hour"\r\n    by_endpoint:\r\n      "/api/v1/analytics": "100/minute"\r\n      "/api/v1/reports": "50/minute"\r\n  \r\n  # CORS\r\n  cors:\r\n    allowed_origins: ["*"]\r\n    allowed_methods: ["GET", "POST", "PUT", "DELETE"]\r\n    allowed_headers: ["Authorization", "Content-Type"]\r\n  \r\n  # Routing\r\n  routes:\r\n    - path: "/api/v1/cameras"\r\n      upstream: "http://camera-service:8001"\r\n    - path: "/api/v1/analytics"\r\n      upstream: "http://analytics-service:8002"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-endpoints",children:"\ud83d\udcca Endpoints"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Endpoint"}),(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/v1/cameras"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"List cameras"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/v1/cameras/{id}"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Get camera details"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/v1/analytics/traffic"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Traffic analytics"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/v1/reports"})}),(0,i.jsx)(n.td,{children:"POST"}),(0,i.jsx)(n.td,{children:"Submit report"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/health"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Health check"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"-related-documentation",children:"\ud83d\udcd6 Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../monitoring/health-check",children:"Health Check"})," - Service health"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../monitoring/performance-monitor",children:"Performance Monitor"})," - Metrics"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../cache/cache-manager",children:"Cache Manager"})," - Response caching"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"../complete-agents-reference",children:"complete agents reference"})," for all available agents."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var r=t(6540);const i={},a=r.createContext(i);function s(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);