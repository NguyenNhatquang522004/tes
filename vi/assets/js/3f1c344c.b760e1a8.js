"use strict";(globalThis.webpackChunkuip_urban_intelligence_platform_docs=globalThis.webpackChunkuip_urban_intelligence_platform_docs||[]).push([[6158],{8210:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"backend/routes/historical-routes","title":"Historical Routes","description":"RESTful API endpoints for querying historical time-series traffic data and temporal aggregations.","source":"@site/docs/backend/routes/historical.md","sourceDirName":"backend/routes","slug":"/backend/routes/historical-routes","permalink":"/tes/vi/docs/backend/routes/historical-routes","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenNhatquang522004/UIP-Urban_Intelligence_Platform/tree/main/apps/traffic-web-app/frontend/docs/docs/backend/routes/historical.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"id":"historical-routes","title":"Historical Routes","sidebar_label":"Historical","sidebar_position":8,"description":"RESTful API endpoints for querying historical time-series traffic data and temporal aggregations.","keywords":["historical","time-series","temporal","timescaledb","aggregation"]}}');var t=i(4848),n=i(8453);const d={id:"historical-routes",title:"Historical Routes",sidebar_label:"Historical",sidebar_position:8,description:"RESTful API endpoints for querying historical time-series traffic data and temporal aggregations.",keywords:["historical","time-series","temporal","timescaledb","aggregation"]},c="Historical Routes",l={},a=[{value:"Base Path",id:"base-path",level:2},{value:"Endpoints Summary",id:"endpoints-summary",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"GET /api/historical/traffic",id:"get-apihistoricaltraffic",level:3},{value:"GET /api/historical/patterns",id:"get-apihistoricalpatterns",level:3},{value:"Time Range Limits",id:"time-range-limits",level:2},{value:"Related Documentation",id:"related-documentation",level:2},{value:"References",id:"references",level:2}];function h(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"historical-routes",children:"Historical Routes"})}),"\n",(0,t.jsxs)(r.p,{children:["RESTful API endpoints for querying ",(0,t.jsx)(r.strong,{children:"historical time-series"})," traffic data and temporal aggregations from TimescaleDB."]}),"\n",(0,t.jsx)(r.h2,{id:"base-path",children:"Base Path"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"/api/historical\n"})}),"\n",(0,t.jsx)(r.h2,{id:"endpoints-summary",children:"Endpoints Summary"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Method"}),(0,t.jsx)(r.th,{children:"Endpoint"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"GET"}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"/traffic"})}),(0,t.jsx)(r.td,{children:"Historical traffic data"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"GET"}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"/weather"})}),(0,t.jsx)(r.td,{children:"Historical weather data"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"GET"}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"/air-quality"})}),(0,t.jsx)(r.td,{children:"Historical AQI data"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"GET"}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"/patterns"})}),(0,t.jsx)(r.td,{children:"Historical patterns"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,t.jsx)(r.h3,{id:"get-apihistoricaltraffic",children:"GET /api/historical/traffic"}),"\n",(0,t.jsx)(r.p,{children:"Get historical traffic metrics."}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Query Parameters:"})}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Parameter"}),(0,t.jsx)(r.th,{children:"Type"}),(0,t.jsx)(r.th,{children:"Required"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"roadSegment"})}),(0,t.jsx)(r.td,{children:"string"}),(0,t.jsx)(r.td,{children:"No"}),(0,t.jsx)(r.td,{children:"Road segment ID"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"from"})}),(0,t.jsx)(r.td,{children:"string"}),(0,t.jsx)(r.td,{children:"Yes"}),(0,t.jsx)(r.td,{children:"Start date (ISO 8601)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"to"})}),(0,t.jsx)(r.td,{children:"string"}),(0,t.jsx)(r.td,{children:"Yes"}),(0,t.jsx)(r.td,{children:"End date (ISO 8601)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"interval"})}),(0,t.jsx)(r.td,{children:"string"}),(0,t.jsx)(r.td,{children:"No"}),(0,t.jsxs)(r.td,{children:["Aggregation: ",(0,t.jsx)(r.code,{children:"hour"}),", ",(0,t.jsx)(r.code,{children:"day"}),", ",(0,t.jsx)(r.code,{children:"week"})]})]})]})]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Response:"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-json",children:'{\r\n  "success": true,\r\n  "data": [\r\n    {\r\n      "timestamp": "2025-01-14T08:00:00.000Z",\r\n      "averageSpeed": 28.5,\r\n      "vehicleCount": 1250,\r\n      "congestionLevel": "high"\r\n    },\r\n    {\r\n      "timestamp": "2025-01-14T09:00:00.000Z",\r\n      "averageSpeed": 32.1,\r\n      "vehicleCount": 980,\r\n      "congestionLevel": "moderate"\r\n    }\r\n  ],\r\n  "meta": {\r\n    "interval": "hour",\r\n    "dataPoints": 24\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h3,{id:"get-apihistoricalpatterns",children:"GET /api/historical/patterns"}),"\n",(0,t.jsx)(r.p,{children:"Get historical traffic pattern analysis."}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Query Parameters:"})}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Parameter"}),(0,t.jsx)(r.th,{children:"Type"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"dayOfWeek"})}),(0,t.jsx)(r.td,{children:"number"}),(0,t.jsx)(r.td,{children:"Day of week (0=Sunday)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"hourOfDay"})}),(0,t.jsx)(r.td,{children:"number"}),(0,t.jsx)(r.td,{children:"Hour (0-23)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"roadSegment"})}),(0,t.jsx)(r.td,{children:"string"}),(0,t.jsx)(r.td,{children:"Road segment ID"})]})]})]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Response:"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-json",children:'{\r\n  "success": true,\r\n  "data": {\r\n    "averageSpeed": 28.5,\r\n    "averageVehicleCount": 1150,\r\n    "sampleCount": 52,\r\n    "standardDeviation": 5.2,\r\n    "percentiles": {\r\n      "p25": 24.0,\r\n      "p50": 28.5,\r\n      "p75": 33.0,\r\n      "p95": 42.0\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(r.h2,{id:"time-range-limits",children:"Time Range Limits"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Period"}),(0,t.jsx)(r.th,{children:"Max Range"}),(0,t.jsx)(r.th,{children:"Aggregation"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Real-time"}),(0,t.jsx)(r.td,{children:"24 hours"}),(0,t.jsx)(r.td,{children:"None"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Short-term"}),(0,t.jsx)(r.td,{children:"7 days"}),(0,t.jsx)(r.td,{children:"Hourly"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Medium-term"}),(0,t.jsx)(r.td,{children:"30 days"}),(0,t.jsx)(r.td,{children:"Daily"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Long-term"}),(0,t.jsx)(r.td,{children:"365 days"}),(0,t.jsx)(r.td,{children:"Weekly"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"/tes/vi/docs/backend/services/postgres-service",children:"PostgresService"})," - TimescaleDB queries"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"/tes/vi/docs/backend/routes/analytics-routes",children:"Analytics Routes"})," - Real-time analytics"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"/tes/vi/docs/backend/services/fuseki-service",children:"FusekiService"})," - SPARQL historical"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"https://docs.timescale.com/",children:"TimescaleDB Documentation"})}),"\n"]})]})}function o(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,r,i)=>{i.d(r,{R:()=>d,x:()=>c});var s=i(6540);const t={},n=s.createContext(t);function d(e){const r=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(n.Provider,{value:r},e.children)}}}]);